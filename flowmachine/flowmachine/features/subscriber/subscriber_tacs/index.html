



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>subscriber_tacs</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="../../../../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../../../../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://unpkg.com/mermaid@7.1.2/dist/mermaid.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="#095798" data-md-color-accent="#2977b8">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#flowmachinefeaturessubscribersubscriber_tacs" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../../../.." title="FlowKit" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              FlowKit
            </span>
            <span class="md-header-nav__topic">
              subscriber_tacs
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/Flowminder/FlowKit" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Flowminder/FlowKit
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../../../.." title="FlowKit" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    FlowKit
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/Flowminder/FlowKit" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Flowminder/FlowKit
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../2-install/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../3-analyst/" title="Analyst" class="md-nav__link">
      Analyst
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../4-developer/" title="Developer" class="md-nav__link">
      Developer
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../5-administrator/" title="Administrator" class="md-nav__link">
      Administrator
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../6-license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../dev_environment_setup/" title="Setting up a development environment" class="md-nav__link">
      Setting up a development environment
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Flowclient
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Flowclient
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../../flowclient/example_usage/" title="Example usage" class="md-nav__link">
      Example usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2">
    
    <label class="md-nav__link" for="nav-8-2">
      Flowclient
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-2">
        Flowclient
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../../flowclient/flowclient/" title="flowclient" class="md-nav__link">
      flowclient
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../../flowclient/flowclient/client/" title="client" class="md-nav__link">
      client
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked>
    
    <label class="md-nav__link" for="nav-9">
      Flowmachine
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Flowmachine
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1" type="checkbox" id="nav-9-1" checked>
    
    <label class="md-nav__link" for="nav-9-1">
      Flowmachine
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-1">
        Flowmachine
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../" title="flowmachine" class="md-nav__link">
      flowmachine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-2" type="checkbox" id="nav-9-1-2">
    
    <label class="md-nav__link" for="nav-9-1-2">
      Core
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-9-1-2">
        Core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/" title="core" class="md-nav__link">
      core
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/cache/" title="cache" class="md-nav__link">
      cache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/connection/" title="connection" class="md-nav__link">
      connection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/custom_query/" title="custom_query" class="md-nav__link">
      custom_query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-2-5" type="checkbox" id="nav-9-1-2-5">
    
    <label class="md-nav__link" for="nav-9-1-2-5">
      Errors
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-9-1-2-5">
        Errors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/errors/" title="errors" class="md-nav__link">
      errors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/errors/flowmachine_errors/" title="flowmachine_errors" class="md-nav__link">
      flowmachine_errors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/geotable/" title="geotable" class="md-nav__link">
      geotable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/init/" title="init" class="md-nav__link">
      init
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/join/" title="join" class="md-nav__link">
      join
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/join_to_location/" title="join_to_location" class="md-nav__link">
      join_to_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-2-10" type="checkbox" id="nav-9-1-2-10">
    
    <label class="md-nav__link" for="nav-9-1-2-10">
      Mixins
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-9-1-2-10">
        Mixins
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/mixins/" title="mixins" class="md-nav__link">
      mixins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/mixins/geodata_mixin/" title="geodata_mixin" class="md-nav__link">
      geodata_mixin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/mixins/graph_mixin/" title="graph_mixin" class="md-nav__link">
      graph_mixin
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/model/" title="model" class="md-nav__link">
      model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/model_result/" title="model_result" class="md-nav__link">
      model_result
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/query/" title="query" class="md-nav__link">
      query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/query_state/" title="query_state" class="md-nav__link">
      query_state
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/random/" title="random" class="md-nav__link">
      random
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-2-16" type="checkbox" id="nav-9-1-2-16">
    
    <label class="md-nav__link" for="nav-9-1-2-16">
      Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-9-1-2-16">
        Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/server/" title="server" class="md-nav__link">
      server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/server/query_proxy/" title="query_proxy" class="md-nav__link">
      query_proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/server/server/" title="server" class="md-nav__link">
      server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/server/utils/" title="utils" class="md-nav__link">
      utils
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/server/zmq_interface/" title="zmq_interface" class="md-nav__link">
      zmq_interface
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/sqlalchemy_utils/" title="sqlalchemy_utils" class="md-nav__link">
      sqlalchemy_utils
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/subscriber_subsetter/" title="subscriber_subsetter" class="md-nav__link">
      subscriber_subsetter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/subset/" title="subset" class="md-nav__link">
      subset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/table/" title="table" class="md-nav__link">
      table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/union/" title="union" class="md-nav__link">
      union
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-3" type="checkbox" id="nav-9-1-3" checked>
    
    <label class="md-nav__link" for="nav-9-1-3">
      Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-9-1-3">
        Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="features" class="md-nav__link">
      features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-3-2" type="checkbox" id="nav-9-1-3-2">
    
    <label class="md-nav__link" for="nav-9-1-3-2">
      Location
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-9-1-3-2">
        Location
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../location/" title="location" class="md-nav__link">
      location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../location/flows/" title="flows" class="md-nav__link">
      flows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../location/location_introversion/" title="location_introversion" class="md-nav__link">
      location_introversion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../location/total_events/" title="total_events" class="md-nav__link">
      total_events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../location/unique_subscriber_counts/" title="unique_subscriber_counts" class="md-nav__link">
      unique_subscriber_counts
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-3-3" type="checkbox" id="nav-9-1-3-3">
    
    <label class="md-nav__link" for="nav-9-1-3-3">
      Network
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-9-1-3-3">
        Network
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../network/" title="network" class="md-nav__link">
      network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../network/total_network_objects/" title="total_network_objects" class="md-nav__link">
      total_network_objects
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-3-4" type="checkbox" id="nav-9-1-3-4">
    
    <label class="md-nav__link" for="nav-9-1-3-4">
      Raster
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-9-1-3-4">
        Raster
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../raster/" title="raster" class="md-nav__link">
      raster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../raster/raster_statistics/" title="raster_statistics" class="md-nav__link">
      raster_statistics
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-3-5" type="checkbox" id="nav-9-1-3-5">
    
    <label class="md-nav__link" for="nav-9-1-3-5">
      Spatial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-9-1-3-5">
        Spatial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/" title="spatial" class="md-nav__link">
      spatial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/cell_mappings/" title="cell_mappings" class="md-nav__link">
      cell_mappings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/circles/" title="circles" class="md-nav__link">
      circles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/distance_matrix/" title="distance_matrix" class="md-nav__link">
      distance_matrix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/grid/" title="grid" class="md-nav__link">
      grid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/location_area/" title="location_area" class="md-nav__link">
      location_area
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/location_cluster/" title="location_cluster" class="md-nav__link">
      location_cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/versioned_infrastructure/" title="versioned_infrastructure" class="md-nav__link">
      versioned_infrastructure
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-3-6" type="checkbox" id="nav-9-1-3-6" checked>
    
    <label class="md-nav__link" for="nav-9-1-3-6">
      Subscriber
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-9-1-3-6">
        Subscriber
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="subscriber" class="md-nav__link">
      subscriber
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../call_days/" title="call_days" class="md-nav__link">
      call_days
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../contact_balance/" title="contact_balance" class="md-nav__link">
      contact_balance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../contact_reciprocal/" title="contact_reciprocal" class="md-nav__link">
      contact_reciprocal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../daily_location/" title="daily_location" class="md-nav__link">
      daily_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../day_trajectories/" title="day_trajectories" class="md-nav__link">
      day_trajectories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../displacement/" title="displacement" class="md-nav__link">
      displacement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../distance_counterparts/" title="distance_counterparts" class="md-nav__link">
      distance_counterparts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../entropy/" title="entropy" class="md-nav__link">
      entropy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../event_count/" title="event_count" class="md-nav__link">
      event_count
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../event_type_proportion/" title="event_type_proportion" class="md-nav__link">
      event_type_proportion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../first_location/" title="first_location" class="md-nav__link">
      first_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../interevent_period/" title="interevent_period" class="md-nav__link">
      interevent_period
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../label_event_score/" title="label_event_score" class="md-nav__link">
      label_event_score
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../last_location/" title="last_location" class="md-nav__link">
      last_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../location_visits/" title="location_visits" class="md-nav__link">
      location_visits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mds_volume/" title="mds_volume" class="md-nav__link">
      mds_volume
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../meaningful_locations/" title="meaningful_locations" class="md-nav__link">
      meaningful_locations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../metaclasses/" title="metaclasses" class="md-nav__link">
      metaclasses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../modal_location/" title="modal_location" class="md-nav__link">
      modal_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../most_frequent_location/" title="most_frequent_location" class="md-nav__link">
      most_frequent_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../new_subscribers/" title="new_subscribers" class="md-nav__link">
      new_subscribers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nocturnal_events/" title="nocturnal_events" class="md-nav__link">
      nocturnal_events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pareto_interactions/" title="pareto_interactions" class="md-nav__link">
      pareto_interactions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../per_contact_event_stats/" title="per_contact_event_stats" class="md-nav__link">
      per_contact_event_stats
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../per_location_event_stats/" title="per_location_event_stats" class="md-nav__link">
      per_location_event_stats
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../radius_of_gyration/" title="radius_of_gyration" class="md-nav__link">
      radius_of_gyration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../scores/" title="scores" class="md-nav__link">
      scores
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../subscriber_call_durations/" title="subscriber_call_durations" class="md-nav__link">
      subscriber_call_durations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../subscriber_degree/" title="subscriber_degree" class="md-nav__link">
      subscriber_degree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../subscriber_location_cluster/" title="subscriber_location_cluster" class="md-nav__link">
      subscriber_location_cluster
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        subscriber_tacs
      </label>
    
    <a href="./" title="subscriber_tacs" class="md-nav__link md-nav__link--active">
      subscriber_tacs
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#class-subscriberhandset" title="Class SubscriberHandset" class="md-nav__link">
    Class SubscriberHandset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_1" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_1" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_2" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_1" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_2" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_3" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_4" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_5" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_3" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_6" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_4" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_5" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_7" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_aggregate" title="join_aggregate" class="md-nav__link">
    join_aggregate
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_6" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_8" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_7" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_9" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_8" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_10" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_11" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_9" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_12" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_10" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_13" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_11" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_14" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_2" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_as_string_list" title="column_names_as_string_list" class="md-nav__link">
    column_names_as_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-subscriberhandsets" title="Class SubscriberHandsets" class="md-nav__link">
    Class SubscriberHandsets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_1" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_12" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_3" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_1" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_1" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_13" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_15" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_4" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_1" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_14" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_16" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_1" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_17" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_1" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_18" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_1" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_19" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_1" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_20" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_1" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_15" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_21" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_1" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_16" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_1" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_17" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_22" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_aggregate_1" title="join_aggregate" class="md-nav__link">
    join_aggregate
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_18" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_23" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_1" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_19" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_24" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_1" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_20" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_25" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_1" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_26" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_1" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_21" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_27" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_1" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_22" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_28" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_1" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_1" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_1" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_23" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_29" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_5" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_1" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_1" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_as_string_list_1" title="column_names_as_string_list" class="md-nav__link">
    column_names_as_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_1" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_1" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_1" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_1" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_1" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_1" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-subscriberphonetype" title="Class SubscriberPhoneType" class="md-nav__link">
    Class SubscriberPhoneType
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_2" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_24" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_6" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_2" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_2" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_25" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_30" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_7" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_2" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_26" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_31" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_2" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_32" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_2" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_33" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_2" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_34" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_2" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_35" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_2" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_27" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_36" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_2" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_28" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_2" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_29" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_37" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_aggregate_2" title="join_aggregate" class="md-nav__link">
    join_aggregate
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_30" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_38" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_2" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_31" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_39" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_2" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_32" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_40" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_2" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_41" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_2" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_33" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_42" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_2" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_34" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_43" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_2" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_2" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_2" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_35" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_44" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_8" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_2" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_2" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_as_string_list_2" title="column_names_as_string_list" class="md-nav__link">
    column_names_as_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_2" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_2" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_2" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_2" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_2" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_2" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-subscribertac" title="Class SubscriberTAC" class="md-nav__link">
    Class SubscriberTAC
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_3" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_36" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_9" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_3" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_3" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_37" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_45" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_10" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_3" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_38" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_46" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_3" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_47" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_3" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_48" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_3" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_49" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_3" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_50" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_3" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_39" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_51" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_3" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_40" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_3" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_41" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_52" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_aggregate_3" title="join_aggregate" class="md-nav__link">
    join_aggregate
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_42" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_53" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_3" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_43" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_54" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_3" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_44" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_55" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_3" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_56" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_3" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_45" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_57" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_3" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_46" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_58" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_3" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_3" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_3" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_47" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_59" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_11" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_3" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_3" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_as_string_list_3" title="column_names_as_string_list" class="md-nav__link">
    column_names_as_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_3" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_3" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_3" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_3" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_3" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_3" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-subscribertacs" title="Class SubscriberTACs" class="md-nav__link">
    Class SubscriberTACs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_4" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_48" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_12" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_4" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_4" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_49" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_60" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_13" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_4" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_50" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_61" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_4" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_62" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_4" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_63" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_4" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_64" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_4" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_65" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_4" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_51" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_66" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_4" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_52" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_4" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_53" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_67" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_aggregate_4" title="join_aggregate" class="md-nav__link">
    join_aggregate
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_54" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_68" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_4" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_55" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_69" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_4" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_56" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_70" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_4" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_71" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_4" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_57" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_72" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_4" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_58" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_73" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_4" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_4" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_4" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_59" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_74" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_14" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_4" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_4" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_as_string_list_4" title="column_names_as_string_list" class="md-nav__link">
    column_names_as_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_4" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_4" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_4" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_4" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_4" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_4" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../topup_amount/" title="topup_amount" class="md-nav__link">
      topup_amount
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../topup_balance/" title="topup_balance" class="md-nav__link">
      topup_balance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../total_active_periods/" title="total_active_periods" class="md-nav__link">
      total_active_periods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unique_location_counts/" title="unique_location_counts" class="md-nav__link">
      unique_location_counts
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-3-7" type="checkbox" id="nav-9-1-3-7">
    
    <label class="md-nav__link" for="nav-9-1-3-7">
      Utilities
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-9-1-3-7">
        Utilities
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/" title="utilities" class="md-nav__link">
      utilities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/event_table_subset/" title="event_table_subset" class="md-nav__link">
      event_table_subset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/events_tables_union/" title="events_tables_union" class="md-nav__link">
      events_tables_union
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/feature_collection/" title="feature_collection" class="md-nav__link">
      feature_collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/group_values/" title="group_values" class="md-nav__link">
      group_values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/multilocation/" title="multilocation" class="md-nav__link">
      multilocation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/sets/" title="sets" class="md-nav__link">
      sets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/spatial_aggregates/" title="spatial_aggregates" class="md-nav__link">
      spatial_aggregates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/subscriber_locations/" title="subscriber_locations" class="md-nav__link">
      subscriber_locations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-1-4" type="checkbox" id="nav-9-1-4">
    
    <label class="md-nav__link" for="nav-9-1-4">
      Models
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-9-1-4">
        Models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/" title="models" class="md-nav__link">
      models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/louvain/" title="louvain" class="md-nav__link">
      louvain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/pwo/" title="pwo" class="md-nav__link">
      pwo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../utils/" title="utils" class="md-nav__link">
      utils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#class-subscriberhandset" title="Class SubscriberHandset" class="md-nav__link">
    Class SubscriberHandset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_1" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_1" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_2" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_1" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_2" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_3" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_4" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_5" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_3" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_6" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_4" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_5" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_7" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_aggregate" title="join_aggregate" class="md-nav__link">
    join_aggregate
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_6" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_8" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_7" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_9" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_8" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_10" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_11" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_9" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_12" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_10" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_13" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_11" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_14" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_2" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_as_string_list" title="column_names_as_string_list" class="md-nav__link">
    column_names_as_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-subscriberhandsets" title="Class SubscriberHandsets" class="md-nav__link">
    Class SubscriberHandsets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_1" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_12" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_3" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_1" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_1" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_13" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_15" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_4" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_1" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_14" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_16" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_1" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_17" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_1" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_18" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_1" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_19" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_1" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_20" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_1" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_15" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_21" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_1" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_16" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_1" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_17" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_22" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_aggregate_1" title="join_aggregate" class="md-nav__link">
    join_aggregate
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_18" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_23" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_1" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_19" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_24" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_1" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_20" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_25" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_1" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_26" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_1" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_21" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_27" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_1" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_22" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_28" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_1" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_1" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_1" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_23" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_29" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_5" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_1" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_1" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_as_string_list_1" title="column_names_as_string_list" class="md-nav__link">
    column_names_as_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_1" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_1" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_1" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_1" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_1" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_1" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-subscriberphonetype" title="Class SubscriberPhoneType" class="md-nav__link">
    Class SubscriberPhoneType
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_2" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_24" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_6" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_2" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_2" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_25" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_30" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_7" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_2" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_26" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_31" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_2" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_32" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_2" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_33" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_2" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_34" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_2" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_35" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_2" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_27" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_36" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_2" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_28" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_2" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_29" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_37" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_aggregate_2" title="join_aggregate" class="md-nav__link">
    join_aggregate
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_30" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_38" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_2" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_31" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_39" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_2" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_32" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_40" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_2" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_41" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_2" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_33" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_42" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_2" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_34" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_43" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_2" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_2" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_2" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_35" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_44" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_8" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_2" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_2" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_as_string_list_2" title="column_names_as_string_list" class="md-nav__link">
    column_names_as_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_2" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_2" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_2" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_2" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_2" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_2" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-subscribertac" title="Class SubscriberTAC" class="md-nav__link">
    Class SubscriberTAC
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_3" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_36" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_9" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_3" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_3" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_37" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_45" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_10" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_3" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_38" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_46" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_3" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_47" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_3" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_48" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_3" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_49" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_3" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_50" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_3" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_39" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_51" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_3" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_40" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_3" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_41" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_52" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_aggregate_3" title="join_aggregate" class="md-nav__link">
    join_aggregate
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_42" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_53" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_3" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_43" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_54" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_3" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_44" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_55" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_3" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_56" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_3" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_45" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_57" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_3" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_46" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_58" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_3" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_3" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_3" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_47" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_59" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_11" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_3" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_3" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_as_string_list_3" title="column_names_as_string_list" class="md-nav__link">
    column_names_as_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_3" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_3" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_3" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_3" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_3" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_3" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-subscribertacs" title="Class SubscriberTACs" class="md-nav__link">
    Class SubscriberTACs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_4" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_48" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_12" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_4" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_4" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_49" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_60" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_13" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_4" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_50" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_61" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_4" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_62" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_4" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_63" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_4" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_64" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_4" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_65" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_4" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_51" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_66" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_4" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_52" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_4" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_53" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_67" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_aggregate_4" title="join_aggregate" class="md-nav__link">
    join_aggregate
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_54" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_68" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_4" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_55" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_69" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_4" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_56" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_70" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_4" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_71" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_4" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_57" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_72" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_4" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_58" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_73" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_4" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_4" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_4" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_59" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_74" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_14" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_4" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_4" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_as_string_list_4" title="column_names_as_string_list" class="md-nav__link">
    column_names_as_string_list
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_4" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_4" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_4" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_4" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_4" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_4" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="flowmachinefeaturessubscribersubscriber_tacs">flowmachine.features.subscriber.subscriber_tacs<a class="headerlink" href="#flowmachinefeaturessubscribersubscriber_tacs" title="Permanent link">&para;</a></h1>
<p>Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/subscriber_tacs.py#L0">flowmachine/features/subscriber/subscriber_tacs.py</a></p>
<p>Features that represent TACs (unique phone model identifiers), and handsets associated with a subscriber.</p>
<h2 id="class-subscriberhandset">Class <strong>SubscriberHandset</strong><a class="headerlink" href="#class-subscriberhandset" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">SubscriberHandset</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">subscriber_identifier</span><span class="o">=</span><span class="s1">&#39;msisdn&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;most-common&#39;</span><span class="p">,</span> <span class="n">subscriber_subset</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/subscriber_tacs.py#L276">flowmachine/features/subscriber/subscriber_tacs.py</a></p>
<p>Class representing a single handset associated to the subscriber.</p>
<h3 id="attributes">Attributes<a class="headerlink" href="#attributes" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#column_names_as_string_list"><code>column_names_as_string_list</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>start</code>, <code>stop</code>: <code>str</code></p>
<p>iso-format start and stop datetimes</p>
</li>
<li>
<p><code>hours</code>: <code>2-tuple</code> of <code>floats</code>, default <code>'all'</code></p>
<p>Restrict the analysis to only a certain set of hours within each day.</p>
</li>
<li>
<p><code>table</code>: <code>str</code>, default <code>'all'</code></p>
</li>
<li>
<p><code>subscriber_identifier</code>: <code>str</code>, default <code>'msisdn'</code></p>
<p>The focus of the analysis, usually either 'msisdn', 'imei'</p>
</li>
<li>
<p><code>method</code>: <code>{'most-common', 'last'}</code></p>
<p>Method for choosing a handset to associate.</p>
</li>
</ul>
<h3 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h3>
<p><div class="codehilite"><pre><span></span><span class="n">subscriber_handsets</span> <span class="o">=</span> <span class="n">SubscriberHandset</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2016-01-07&#39;</span><span class="p">)</span>
<span class="n">subscriber_handsets</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">()</span>
          <span class="n">tac</span>        <span class="n">subscriber</span>  <span class="n">brand</span>  <span class="n">model</span> <span class="n">width</span> <span class="n">height</span> <span class="n">depth</span>   <span class="o">...</span>    <span class="n">j2me_midp_10</span> <span class="n">j2me_midp_20</span> <span class="n">j2me_midp_21</span> <span class="n">j2me_cldc_10</span> <span class="n">j2me_cldc_11</span> <span class="n">j2me_cldc_20</span> <span class="n">hnd_type</span>
<span class="mi">0</span>  <span class="mf">18867440.0</span>  <span class="mo">03</span><span class="mi">8</span><span class="n">OVABN11Ak4W5P</span>   <span class="n">Sony</span>  <span class="n">TO</span><span class="o">-</span><span class="mi">64</span>  <span class="bp">None</span>   <span class="bp">None</span>  <span class="bp">None</span>   <span class="o">...</span>            <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>    <span class="n">Smart</span>
<span class="mi">1</span>  <span class="mf">21572046.0</span>  <span class="mi">09</span><span class="n">NrjaNNvDanD8pk</span>  <span class="n">Apple</span>  <span class="n">WS</span><span class="o">-</span><span class="mi">44</span>  <span class="bp">None</span>   <span class="bp">None</span>  <span class="bp">None</span>   <span class="o">...</span>            <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>  <span class="n">Feature</span>
<span class="mi">2</span>  <span class="mf">81963365.0</span>  <span class="mi">0</span><span class="n">ayZGYEQrqYlKw6g</span>   <span class="n">Sony</span>  <span class="n">YG</span><span class="o">-</span><span class="mo">07</span>  <span class="bp">None</span>   <span class="bp">None</span>  <span class="bp">None</span>   <span class="o">...</span>            <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>    <span class="n">Smart</span>
<span class="mi">3</span>  <span class="mf">92380772.0</span>  <span class="mi">0</span><span class="n">DB8zw67E9mZAPK2</span>   <span class="n">Oppo</span>  <span class="n">GK</span><span class="o">-</span><span class="mo">00</span>  <span class="bp">None</span>   <span class="bp">None</span>  <span class="bp">None</span>   <span class="o">...</span>            <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>  <span class="n">Feature</span>
<span class="mi">4</span>  <span class="mf">77510543.0</span>  <span class="mi">0</span><span class="n">Gl95NRLjW2aw8pW</span>   <span class="n">Sony</span>  <span class="n">KZ</span><span class="o">-</span><span class="mo">03</span>  <span class="bp">None</span>   <span class="bp">None</span>  <span class="bp">None</span>   <span class="o">...</span>            <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>  <span class="n">Feature</span>
</pre></div>
                        .                         .                         . </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be aware that when using a imei as a subscriber identifier, than one imei is always associated to a <em>single</em> handset.</p>
</div>
<h3 id="methods">Methods<a class="headerlink" href="#methods" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph">dependency_graph<a class="headerlink" href="#dependency_graph" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1073">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_1">Parameters<a class="headerlink" href="#parameters_1" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns">Returns<a class="headerlink" href="#returns" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_1">Examples<a class="headerlink" href="#examples_1" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain">explain<a class="headerlink" href="#explain" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L547">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_2">Parameters<a class="headerlink" href="#parameters_2" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_1">Returns<a class="headerlink" href="#returns_1" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe">get_dataframe<a class="headerlink" href="#get_dataframe" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L252">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_2">Returns<a class="headerlink" href="#returns_2" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async">get_dataframe_async<a class="headerlink" href="#get_dataframe_async" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L217">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_3">Returns<a class="headerlink" href="#returns_3" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query">get_query<a class="headerlink" href="#get_query" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L186">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_4">Returns<a class="headerlink" href="#returns_4" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table">get_table<a class="headerlink" href="#get_table" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L314">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_5">Returns<a class="headerlink" href="#returns_5" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head">head<a class="headerlink" href="#head" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L291">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_3">Parameters<a class="headerlink" href="#parameters_3" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_6">Returns<a class="headerlink" href="#returns_6" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="invalidate_db_cache">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L787">flowmachine/core/query.py</a></p>
<p>Drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table. If the table is currently being dropped from elsewhere, this method will block and return when the table has been removed.</p>
<h5 id="parameters_4">Parameters<a class="headerlink" href="#parameters_4" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join">join<a class="headerlink" href="#join" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L359">flowmachine/core/query.py</a></p>
<h5 id="parameters_5">Parameters<a class="headerlink" href="#parameters_5" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_7">Returns<a class="headerlink" href="#returns_7" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="join_aggregate">join_aggregate<a class="headerlink" href="#join_aggregate" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join_aggregate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/metaclasses.py#L29">flowmachine/features/subscriber/metaclasses.py</a></p>
<p>Join with a location representing object and aggregate spatially.</p>
<h5 id="parameters_6">Parameters<a class="headerlink" href="#parameters_6" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>method</code>: <code>{'mean', 'mode', 'median'}</code></p>
</li>
<li>
<p><code>locations</code></p>
<p>Subscriber locating type query</p>
</li>
</ul>
<h5 id="returns_8">Returns<a class="headerlink" href="#returns_8" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>JoinedSpatialAggregate</code></p>
<p>Query object representing a version of this metric aggregated to the location level.</p>
</li>
</ul>
<h4 id="numeric_subset">numeric_subset<a class="headerlink" href="#numeric_subset" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L414">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_7">Parameters<a class="headerlink" href="#parameters_7" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_9">Returns<a class="headerlink" href="#returns_9" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="random_sample">random_sample<a class="headerlink" href="#random_sample" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L997">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_8">Parameters<a class="headerlink" href="#parameters_8" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_10">Returns<a class="headerlink" href="#returns_10" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store">store<a class="headerlink" href="#store" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L649">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="returns_11">Returns<a class="headerlink" href="#returns_11" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset">subset<a class="headerlink" href="#subset" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L393">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_9">Parameters<a class="headerlink" href="#parameters_9" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_12">Returns<a class="headerlink" href="#returns_12" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql">to_sql<a class="headerlink" href="#to_sql" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L477">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_10">Parameters<a class="headerlink" href="#parameters_10" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
</ul>
<h5 id="returns_13">Returns<a class="headerlink" href="#returns_13" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching">turn_off_caching<a class="headerlink" href="#turn_off_caching" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L158">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching">turn_on_caching<a class="headerlink" href="#turn_on_caching" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union">union<a class="headerlink" href="#union" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L326">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_11">Parameters<a class="headerlink" href="#parameters_11" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_14">Returns<a class="headerlink" href="#returns_14" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_2">Examples<a class="headerlink" href="#examples_2" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache">cache<a class="headerlink" href="#cache" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L174">flowmachine/core/query.py</a></p>
<h4 id="column_names">column_names<a class="headerlink" href="#column_names" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/subscriber_tacs.py#L352">flowmachine/features/subscriber/subscriber_tacs.py</a></p>
<p>Returns the column names.</p>
<h4 id="column_names_as_string_list">column_names_as_string_list<a class="headerlink" href="#column_names_as_string_list" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names_as_string_list</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L279">flowmachine/core/query.py</a></p>
<p>Get the column names as a comma separated list</p>
<h4 id="dependencies">dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L728">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L608">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols">index_cols<a class="headerlink" href="#index_cols" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L881">flowmachine/core/query.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored">is_stored<a class="headerlink" href="#is_stored" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L634">flowmachine/core/query.py</a></p>
<h4 id="md5">md5<a class="headerlink" href="#md5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L78">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name">table_name<a class="headerlink" href="#table_name" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L621">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-subscriberhandsets">Class <strong>SubscriberHandsets</strong><a class="headerlink" href="#class-subscriberhandsets" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">SubscriberHandsets</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">subscriber_identifier</span><span class="o">=</span><span class="s1">&#39;msisdn&#39;</span><span class="p">,</span> <span class="n">subscriber_subset</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/subscriber_tacs.py#L202">flowmachine/features/subscriber/subscriber_tacs.py</a></p>
<p>Class representing all the handsets for which a subscriber has been associated.</p>
<h3 id="attributes_1">Attributes<a class="headerlink" href="#attributes_1" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#column_names_as_string_list"><code>column_names_as_string_list</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_12">Parameters<a class="headerlink" href="#parameters_12" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>start</code>, <code>stop</code>: <code>str</code></p>
<p>iso-format start and stop datetimes</p>
</li>
<li>
<p><code>hours</code>: <code>2-tuple</code> of <code>floats</code>, default <code>'all'</code></p>
<p>Restrict the analysis to only a certain set of hours within each day.</p>
</li>
<li>
<p><code>table</code>: <code>str</code>, default <code>'all'</code></p>
</li>
<li>
<p><code>subscriber_identifier</code>: <code>str</code>, default <code>'msisdn'</code></p>
<p>The focus of the analysis, usually either 'msisdn', 'imei'</p>
</li>
</ul>
<h3 id="examples_3">Examples<a class="headerlink" href="#examples_3" title="Permanent link">&para;</a></h3>
<p><div class="codehilite"><pre><span></span><span class="n">subscriber_handsets</span> <span class="o">=</span> <span class="n">SubscriberHandsets</span><span class="p">(</span><span class="s1">&#39;2016-01-01 13:30:30&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;2016-01-02 16:25:00&#39;</span><span class="p">)</span>
<span class="n">subscriber_handsets</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">()</span>
          <span class="n">tac</span>        <span class="n">subscriber</span>                      <span class="n">time</span>    <span class="n">brand</span>  <span class="n">model</span> <span class="n">width</span>   <span class="o">...</span>    <span class="n">j2me_midp_20</span> <span class="n">j2me_midp_21</span> <span class="n">j2me_cldc_10</span> <span class="n">j2me_cldc_11</span> <span class="n">j2me_cldc_20</span> <span class="n">hnd_type</span>
<span class="mi">0</span>  <span class="mf">85151913.0</span>  <span class="mi">1</span><span class="n">vGR8kp342yxEpwY</span> <span class="mi">2016</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mi">13</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">06</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>     <span class="n">Sony</span>  <span class="n">KQ</span><span class="o">-</span><span class="mi">99</span>  <span class="bp">None</span>   <span class="o">...</span>            <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>  <span class="n">Feature</span>
<span class="mi">1</span>  <span class="mf">15314569.0</span>  <span class="n">QPdr2B94VaEzZgoW</span> <span class="mi">2016</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mi">13</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">06</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>     <span class="n">Oppo</span>  <span class="n">UT</span><span class="o">-</span><span class="mi">18</span>  <span class="bp">None</span>   <span class="o">...</span>            <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>    <span class="n">Smart</span>
<span class="mi">2</span>  <span class="mf">92380772.0</span>  <span class="n">LjDxeZEREElG7m0r</span> <span class="mi">2016</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mi">13</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">21</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>     <span class="n">Oppo</span>  <span class="n">GK</span><span class="o">-</span><span class="mo">00</span>  <span class="bp">None</span>   <span class="o">...</span>            <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>  <span class="n">Feature</span>
<span class="mi">3</span>  <span class="mf">99503609.0</span>  <span class="n">Kabe7EppYbMEj6O3</span> <span class="mi">2016</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mi">13</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">21</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>  <span class="n">Samsung</span>  <span class="n">NN</span><span class="o">-</span><span class="mi">71</span>  <span class="bp">None</span>   <span class="o">...</span>            <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>    <span class="n">Smart</span>
<span class="mi">4</span>  <span class="mf">16875116.0</span>  <span class="n">gWPl7QBD8VnEyX8K</span> <span class="mi">2016</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mi">13</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">41</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>     <span class="n">Sony</span>  <span class="n">JH</span><span class="o">-</span><span class="mi">73</span>  <span class="bp">None</span>   <span class="o">...</span>            <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>         <span class="bp">None</span>    <span class="n">Smart</span>
</pre></div>
                        .                         .                         . </p>
<h3 id="methods_1">Methods<a class="headerlink" href="#methods_1" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_1">dependency_graph<a class="headerlink" href="#dependency_graph_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1073">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_13">Parameters<a class="headerlink" href="#parameters_13" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_15">Returns<a class="headerlink" href="#returns_15" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_4">Examples<a class="headerlink" href="#examples_4" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_1">explain<a class="headerlink" href="#explain_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L547">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_14">Parameters<a class="headerlink" href="#parameters_14" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_16">Returns<a class="headerlink" href="#returns_16" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_1">get_dataframe<a class="headerlink" href="#get_dataframe_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L252">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_17">Returns<a class="headerlink" href="#returns_17" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_1">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L217">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_18">Returns<a class="headerlink" href="#returns_18" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_1">get_query<a class="headerlink" href="#get_query_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L186">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_19">Returns<a class="headerlink" href="#returns_19" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_1">get_table<a class="headerlink" href="#get_table_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L314">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_20">Returns<a class="headerlink" href="#returns_20" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_1">head<a class="headerlink" href="#head_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L291">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_15">Parameters<a class="headerlink" href="#parameters_15" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_21">Returns<a class="headerlink" href="#returns_21" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="invalidate_db_cache_1">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L787">flowmachine/core/query.py</a></p>
<p>Drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table. If the table is currently being dropped from elsewhere, this method will block and return when the table has been removed.</p>
<h5 id="parameters_16">Parameters<a class="headerlink" href="#parameters_16" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_1">join<a class="headerlink" href="#join_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L359">flowmachine/core/query.py</a></p>
<h5 id="parameters_17">Parameters<a class="headerlink" href="#parameters_17" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_22">Returns<a class="headerlink" href="#returns_22" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="join_aggregate_1">join_aggregate<a class="headerlink" href="#join_aggregate_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join_aggregate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/metaclasses.py#L29">flowmachine/features/subscriber/metaclasses.py</a></p>
<p>Join with a location representing object and aggregate spatially.</p>
<h5 id="parameters_18">Parameters<a class="headerlink" href="#parameters_18" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>method</code>: <code>{'mean', 'mode', 'median'}</code></p>
</li>
<li>
<p><code>locations</code></p>
<p>Subscriber locating type query</p>
</li>
</ul>
<h5 id="returns_23">Returns<a class="headerlink" href="#returns_23" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>JoinedSpatialAggregate</code></p>
<p>Query object representing a version of this metric aggregated to the location level.</p>
</li>
</ul>
<h4 id="numeric_subset_1">numeric_subset<a class="headerlink" href="#numeric_subset_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L414">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_19">Parameters<a class="headerlink" href="#parameters_19" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_24">Returns<a class="headerlink" href="#returns_24" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="random_sample_1">random_sample<a class="headerlink" href="#random_sample_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L997">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_20">Parameters<a class="headerlink" href="#parameters_20" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_25">Returns<a class="headerlink" href="#returns_25" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_1">store<a class="headerlink" href="#store_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L649">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="returns_26">Returns<a class="headerlink" href="#returns_26" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_1">subset<a class="headerlink" href="#subset_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L393">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_21">Parameters<a class="headerlink" href="#parameters_21" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_27">Returns<a class="headerlink" href="#returns_27" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql_1">to_sql<a class="headerlink" href="#to_sql_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L477">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_22">Parameters<a class="headerlink" href="#parameters_22" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
</ul>
<h5 id="returns_28">Returns<a class="headerlink" href="#returns_28" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_1">turn_off_caching<a class="headerlink" href="#turn_off_caching_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L158">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching_1">turn_on_caching<a class="headerlink" href="#turn_on_caching_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_1">union<a class="headerlink" href="#union_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L326">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_23">Parameters<a class="headerlink" href="#parameters_23" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_29">Returns<a class="headerlink" href="#returns_29" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_5">Examples<a class="headerlink" href="#examples_5" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_1">cache<a class="headerlink" href="#cache_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L174">flowmachine/core/query.py</a></p>
<h4 id="column_names_1">column_names<a class="headerlink" href="#column_names_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/subscriber_tacs.py#L268">flowmachine/features/subscriber/subscriber_tacs.py</a></p>
<p>Returns the column names.</p>
<h4 id="column_names_as_string_list_1">column_names_as_string_list<a class="headerlink" href="#column_names_as_string_list_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names_as_string_list</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L279">flowmachine/core/query.py</a></p>
<p>Get the column names as a comma separated list</p>
<h4 id="dependencies_1">dependencies<a class="headerlink" href="#dependencies_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L728">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_1">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L608">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_1">index_cols<a class="headerlink" href="#index_cols_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L881">flowmachine/core/query.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_1">is_stored<a class="headerlink" href="#is_stored_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L634">flowmachine/core/query.py</a></p>
<h4 id="md5_1">md5<a class="headerlink" href="#md5_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L78">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_1">table_name<a class="headerlink" href="#table_name_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L621">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-subscriberphonetype">Class <strong>SubscriberPhoneType</strong><a class="headerlink" href="#class-subscriberphonetype" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">SubscriberPhoneType</span><span class="p">(</span>
    <span class="n">start</span><span class="p">,</span>
    <span class="n">stop</span><span class="p">,</span>
    <span class="n">hours</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
    <span class="n">table</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span>
    <span class="n">subscriber_identifier</span><span class="o">=</span><span class="s2">&quot;msisdn&quot;</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;most-common&quot;</span><span class="p">,</span>
    <span class="n">subscriber_subset</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/subscriber_tacs.py#L360">flowmachine/features/subscriber/subscriber_tacs.py</a></p>
<p>Class representing which type of phone (Basic, Feature, or Smart) a subscriber is associated with.</p>
<h3 id="attributes_2">Attributes<a class="headerlink" href="#attributes_2" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#column_names_as_string_list"><code>column_names_as_string_list</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_24">Parameters<a class="headerlink" href="#parameters_24" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>start</code>, <code>stop</code>: <code>str</code></p>
<p>iso-format start and stop datetimes</p>
</li>
<li>
<p><code>hours</code>: <code>2-tuple</code> of <code>floats</code>, default <code>'all'</code></p>
<p>Restrict the analysis to only a certain set of hours within each day.</p>
</li>
<li>
<p><code>table</code>: <code>str</code>, default <code>'all'</code></p>
</li>
<li>
<p><code>subscriber_identifier</code>: <code>str</code>, default <code>'msisdn'</code></p>
<p>The focus of the analysis, usually either 'msisdn', 'imei'</p>
</li>
<li>
<p><code>method</code>: <code>{'most-common', 'last'}</code></p>
<p>Method for choosing a handset to associate.</p>
</li>
</ul>
<h3 id="examples_6">Examples<a class="headerlink" href="#examples_6" title="Permanent link">&para;</a></h3>
<p><div class="codehilite"><pre><span></span><span class="n">subscriber_smart</span> <span class="o">=</span> <span class="n">SubscriberPhoneType</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2016-01-07&#39;</span><span class="p">)</span>
<span class="n">subscriber_smart</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">()</span>
         <span class="n">subscriber</span> <span class="n">handset_type</span>
<span class="mi">0</span>  <span class="mo">03</span><span class="mi">8</span><span class="n">OVABN11Ak4W5P</span>        <span class="n">Smart</span>
<span class="mi">1</span>  <span class="mi">09</span><span class="n">NrjaNNvDanD8pk</span>      <span class="n">Feature</span>
<span class="mi">2</span>  <span class="mi">0</span><span class="n">ayZGYEQrqYlKw6g</span>      <span class="n">Feature</span>
<span class="mi">3</span>  <span class="mi">0</span><span class="n">DB8zw67E9mZAPK2</span>      <span class="n">Feature</span>
<span class="mi">4</span>  <span class="mi">0</span><span class="n">Gl95NRLjW2aw8pW</span>      <span class="n">Feature</span>
                        <span class="o">.</span>
                        <span class="o">.</span>
                        <span class="o">.</span>
<span class="n">Notes</span>
<span class="o">----</span>
</pre></div>
For most-common, this query checks whether the subscriber most commonly uses a particular type of phone, rather than the type of their most commonly used phone. </p>
<h3 id="methods_2">Methods<a class="headerlink" href="#methods_2" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_2">dependency_graph<a class="headerlink" href="#dependency_graph_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1073">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_25">Parameters<a class="headerlink" href="#parameters_25" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_30">Returns<a class="headerlink" href="#returns_30" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_7">Examples<a class="headerlink" href="#examples_7" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_2">explain<a class="headerlink" href="#explain_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L547">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_26">Parameters<a class="headerlink" href="#parameters_26" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_31">Returns<a class="headerlink" href="#returns_31" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_2">get_dataframe<a class="headerlink" href="#get_dataframe_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L252">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_32">Returns<a class="headerlink" href="#returns_32" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_2">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L217">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_33">Returns<a class="headerlink" href="#returns_33" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_2">get_query<a class="headerlink" href="#get_query_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L186">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_34">Returns<a class="headerlink" href="#returns_34" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_2">get_table<a class="headerlink" href="#get_table_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L314">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_35">Returns<a class="headerlink" href="#returns_35" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_2">head<a class="headerlink" href="#head_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L291">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_27">Parameters<a class="headerlink" href="#parameters_27" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_36">Returns<a class="headerlink" href="#returns_36" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="invalidate_db_cache_2">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L787">flowmachine/core/query.py</a></p>
<p>Drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table. If the table is currently being dropped from elsewhere, this method will block and return when the table has been removed.</p>
<h5 id="parameters_28">Parameters<a class="headerlink" href="#parameters_28" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_2">join<a class="headerlink" href="#join_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L359">flowmachine/core/query.py</a></p>
<h5 id="parameters_29">Parameters<a class="headerlink" href="#parameters_29" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_37">Returns<a class="headerlink" href="#returns_37" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="join_aggregate_2">join_aggregate<a class="headerlink" href="#join_aggregate_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join_aggregate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/metaclasses.py#L29">flowmachine/features/subscriber/metaclasses.py</a></p>
<p>Join with a location representing object and aggregate spatially.</p>
<h5 id="parameters_30">Parameters<a class="headerlink" href="#parameters_30" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>method</code>: <code>{'mean', 'mode', 'median'}</code></p>
</li>
<li>
<p><code>locations</code></p>
<p>Subscriber locating type query</p>
</li>
</ul>
<h5 id="returns_38">Returns<a class="headerlink" href="#returns_38" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>JoinedSpatialAggregate</code></p>
<p>Query object representing a version of this metric aggregated to the location level.</p>
</li>
</ul>
<h4 id="numeric_subset_2">numeric_subset<a class="headerlink" href="#numeric_subset_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L414">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_31">Parameters<a class="headerlink" href="#parameters_31" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_39">Returns<a class="headerlink" href="#returns_39" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="random_sample_2">random_sample<a class="headerlink" href="#random_sample_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L997">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_32">Parameters<a class="headerlink" href="#parameters_32" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_40">Returns<a class="headerlink" href="#returns_40" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_2">store<a class="headerlink" href="#store_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L649">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="returns_41">Returns<a class="headerlink" href="#returns_41" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_2">subset<a class="headerlink" href="#subset_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L393">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_33">Parameters<a class="headerlink" href="#parameters_33" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_42">Returns<a class="headerlink" href="#returns_42" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql_2">to_sql<a class="headerlink" href="#to_sql_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L477">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_34">Parameters<a class="headerlink" href="#parameters_34" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
</ul>
<h5 id="returns_43">Returns<a class="headerlink" href="#returns_43" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_2">turn_off_caching<a class="headerlink" href="#turn_off_caching_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L158">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching_2">turn_on_caching<a class="headerlink" href="#turn_on_caching_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_2">union<a class="headerlink" href="#union_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L326">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_35">Parameters<a class="headerlink" href="#parameters_35" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_44">Returns<a class="headerlink" href="#returns_44" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_8">Examples<a class="headerlink" href="#examples_8" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_2">cache<a class="headerlink" href="#cache_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L174">flowmachine/core/query.py</a></p>
<h4 id="column_names_2">column_names<a class="headerlink" href="#column_names_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/subscriber_tacs.py#L443">flowmachine/features/subscriber/subscriber_tacs.py</a></p>
<p>Returns the column names.</p>
<h4 id="column_names_as_string_list_2">column_names_as_string_list<a class="headerlink" href="#column_names_as_string_list_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names_as_string_list</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L279">flowmachine/core/query.py</a></p>
<p>Get the column names as a comma separated list</p>
<h4 id="dependencies_2">dependencies<a class="headerlink" href="#dependencies_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L728">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_2">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L608">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_2">index_cols<a class="headerlink" href="#index_cols_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L881">flowmachine/core/query.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_2">is_stored<a class="headerlink" href="#is_stored_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L634">flowmachine/core/query.py</a></p>
<h4 id="md5_2">md5<a class="headerlink" href="#md5_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L78">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_2">table_name<a class="headerlink" href="#table_name_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L621">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-subscribertac">Class <strong>SubscriberTAC</strong><a class="headerlink" href="#class-subscribertac" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">SubscriberTAC</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">subscriber_subset</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">subscriber_identifier</span><span class="o">=</span><span class="s1">&#39;msisdn&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;most-common&#39;</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/subscriber_tacs.py#L98">flowmachine/features/subscriber/subscriber_tacs.py</a></p>
<p>Class representing a single TAC associated to the subscriber.</p>
<h3 id="attributes_3">Attributes<a class="headerlink" href="#attributes_3" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#column_names_as_string_list"><code>column_names_as_string_list</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_36">Parameters<a class="headerlink" href="#parameters_36" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>start</code>, <code>stop</code>: <code>str</code></p>
<p>iso-format start and stop datetimes</p>
</li>
<li>
<p><code>hours</code>: <code>2-tuple</code> of <code>floats</code>, default <code>'all'</code></p>
<p>Restrict the analysis to only a certain set of hours within each day.</p>
</li>
<li>
<p><code>table</code>: <code>str</code>, default <code>'all'</code></p>
</li>
<li>
<p><code>subscriber_identifier</code>: <code>str</code>, default <code>'msisdn'</code></p>
<p>The focus of the analysis, usually either 'msisdn', 'imei'</p>
</li>
<li>
<p><code>method</code>: <code>{'most-common', 'last'}</code></p>
<p>Method for choosing a TAC to associate.</p>
</li>
</ul>
<h3 id="examples_9">Examples<a class="headerlink" href="#examples_9" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="n">subscriber_tacs</span> <span class="o">=</span> <span class="n">SubscriberTAC</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2016-01-07&#39;</span><span class="p">)</span>
<span class="n">subscriber_tacs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
         <span class="n">subscriber</span>         <span class="n">tac</span>
<span class="mi">0</span>  <span class="mo">03</span><span class="mi">8</span><span class="n">OVABN11Ak4W5P</span>  <span class="mf">18867440.0</span>
<span class="mi">1</span>  <span class="mi">09</span><span class="n">NrjaNNvDanD8pk</span>  <span class="mf">21572046.0</span>
<span class="mi">2</span>  <span class="mi">0</span><span class="n">ayZGYEQrqYlKw6g</span>  <span class="mf">81963365.0</span>
<span class="mi">3</span>  <span class="mi">0</span><span class="n">DB8zw67E9mZAPK2</span>  <span class="mf">92380772.0</span>
<span class="mi">4</span>  <span class="mi">0</span><span class="n">Gl95NRLjW2aw8pW</span>  <span class="mf">77510543.0</span>
                        <span class="o">.</span>
                        <span class="o">.</span>
                        <span class="o">.</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be aware that when using a imei as a subscriber identifier, than one imei is always associated to a <em>single</em> TAC.</p>
</div>
<h3 id="methods_3">Methods<a class="headerlink" href="#methods_3" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_3">dependency_graph<a class="headerlink" href="#dependency_graph_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1073">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_37">Parameters<a class="headerlink" href="#parameters_37" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_45">Returns<a class="headerlink" href="#returns_45" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_10">Examples<a class="headerlink" href="#examples_10" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_3">explain<a class="headerlink" href="#explain_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L547">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_38">Parameters<a class="headerlink" href="#parameters_38" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_46">Returns<a class="headerlink" href="#returns_46" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_3">get_dataframe<a class="headerlink" href="#get_dataframe_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L252">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_47">Returns<a class="headerlink" href="#returns_47" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_3">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L217">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_48">Returns<a class="headerlink" href="#returns_48" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_3">get_query<a class="headerlink" href="#get_query_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L186">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_49">Returns<a class="headerlink" href="#returns_49" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_3">get_table<a class="headerlink" href="#get_table_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L314">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_50">Returns<a class="headerlink" href="#returns_50" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_3">head<a class="headerlink" href="#head_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L291">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_39">Parameters<a class="headerlink" href="#parameters_39" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_51">Returns<a class="headerlink" href="#returns_51" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="invalidate_db_cache_3">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L787">flowmachine/core/query.py</a></p>
<p>Drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table. If the table is currently being dropped from elsewhere, this method will block and return when the table has been removed.</p>
<h5 id="parameters_40">Parameters<a class="headerlink" href="#parameters_40" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_3">join<a class="headerlink" href="#join_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L359">flowmachine/core/query.py</a></p>
<h5 id="parameters_41">Parameters<a class="headerlink" href="#parameters_41" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_52">Returns<a class="headerlink" href="#returns_52" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="join_aggregate_3">join_aggregate<a class="headerlink" href="#join_aggregate_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join_aggregate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/metaclasses.py#L29">flowmachine/features/subscriber/metaclasses.py</a></p>
<p>Join with a location representing object and aggregate spatially.</p>
<h5 id="parameters_42">Parameters<a class="headerlink" href="#parameters_42" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>method</code>: <code>{'mean', 'mode', 'median'}</code></p>
</li>
<li>
<p><code>locations</code></p>
<p>Subscriber locating type query</p>
</li>
</ul>
<h5 id="returns_53">Returns<a class="headerlink" href="#returns_53" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>JoinedSpatialAggregate</code></p>
<p>Query object representing a version of this metric aggregated to the location level.</p>
</li>
</ul>
<h4 id="numeric_subset_3">numeric_subset<a class="headerlink" href="#numeric_subset_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L414">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_43">Parameters<a class="headerlink" href="#parameters_43" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_54">Returns<a class="headerlink" href="#returns_54" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="random_sample_3">random_sample<a class="headerlink" href="#random_sample_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L997">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_44">Parameters<a class="headerlink" href="#parameters_44" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_55">Returns<a class="headerlink" href="#returns_55" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_3">store<a class="headerlink" href="#store_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L649">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="returns_56">Returns<a class="headerlink" href="#returns_56" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_3">subset<a class="headerlink" href="#subset_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L393">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_45">Parameters<a class="headerlink" href="#parameters_45" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_57">Returns<a class="headerlink" href="#returns_57" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql_3">to_sql<a class="headerlink" href="#to_sql_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L477">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_46">Parameters<a class="headerlink" href="#parameters_46" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
</ul>
<h5 id="returns_58">Returns<a class="headerlink" href="#returns_58" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_3">turn_off_caching<a class="headerlink" href="#turn_off_caching_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L158">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching_3">turn_on_caching<a class="headerlink" href="#turn_on_caching_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_3">union<a class="headerlink" href="#union_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L326">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_47">Parameters<a class="headerlink" href="#parameters_47" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_59">Returns<a class="headerlink" href="#returns_59" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_11">Examples<a class="headerlink" href="#examples_11" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_3">cache<a class="headerlink" href="#cache_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L174">flowmachine/core/query.py</a></p>
<h4 id="column_names_3">column_names<a class="headerlink" href="#column_names_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/subscriber_tacs.py#L175">flowmachine/features/subscriber/subscriber_tacs.py</a></p>
<p>Returns the column names.</p>
<h4 id="column_names_as_string_list_3">column_names_as_string_list<a class="headerlink" href="#column_names_as_string_list_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names_as_string_list</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L279">flowmachine/core/query.py</a></p>
<p>Get the column names as a comma separated list</p>
<h4 id="dependencies_3">dependencies<a class="headerlink" href="#dependencies_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L728">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_3">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L608">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_3">index_cols<a class="headerlink" href="#index_cols_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L881">flowmachine/core/query.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_3">is_stored<a class="headerlink" href="#is_stored_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L634">flowmachine/core/query.py</a></p>
<h4 id="md5_3">md5<a class="headerlink" href="#md5_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L78">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_3">table_name<a class="headerlink" href="#table_name_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L621">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-subscribertacs">Class <strong>SubscriberTACs</strong><a class="headerlink" href="#class-subscribertacs" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">SubscriberTACs</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">subscriber_subset</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">subscriber_identifier</span><span class="o">=</span><span class="s1">&#39;msisdn&#39;</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/subscriber_tacs.py#L21">flowmachine/features/subscriber/subscriber_tacs.py</a></p>
<p>Class representing all the TACs for which a subscriber has been associated.</p>
<h3 id="attributes_4">Attributes<a class="headerlink" href="#attributes_4" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#column_names_as_string_list"><code>column_names_as_string_list</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_48">Parameters<a class="headerlink" href="#parameters_48" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>start</code>, <code>stop</code>: <code>str</code></p>
<p>iso-format start and stop datetimes</p>
</li>
<li>
<p><code>hours</code>: <code>2-tuple</code> of <code>floats</code>, default <code>'all'</code></p>
<p>Restrict the analysis to only a certain set of hours within each day.</p>
</li>
<li>
<p><code>table</code>: <code>str</code>, default <code>'all'</code></p>
</li>
<li>
<p><code>subscriber_identifier</code>: <code>{'msisdn', 'imei'}</code>, default <code>'msisdn'</code></p>
<p>Either msisdn, or imei, the column that identifies the subscriber.</p>
</li>
<li>
<p><code>subscriber_subset</code>: <code>flowmachine.core.Table</code>, <code>flowmachine.core.Query</code>, <code>list</code>, <code>str</code>, default <code>None</code></p>
<p>If provided, string or list of string which are msisdn or imeis to limit results to; or, a query or table which has a column with a name matching subscriber_identifier (typically, msisdn), to limit results to.</p>
</li>
</ul>
<h3 id="examples_12">Examples<a class="headerlink" href="#examples_12" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="n">subscriber_tacs</span> <span class="o">=</span> <span class="n">SubscriberTACs</span><span class="p">(</span><span class="s1">&#39;2016-01-01 13:30:30&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;2016-01-02 16:25:00&#39;</span><span class="p">)</span>
<span class="n">subscriber_tacs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
            <span class="n">subscriber</span>                      <span class="n">time</span>         <span class="n">tac</span>
<span class="mi">0</span>     <span class="mi">1</span><span class="n">vGR8kp342yxEpwY</span> <span class="mi">2016</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mi">13</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">06</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>  <span class="mf">85151913.0</span>
<span class="mi">1</span>     <span class="n">QPdr2B94VaEzZgoW</span> <span class="mi">2016</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mi">13</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mo">06</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>  <span class="mf">15314569.0</span>
<span class="mi">2</span>     <span class="n">LjDxeZEREElG7m0r</span> <span class="mi">2016</span><span class="o">-</span><span class="mo">01</span><span class="o">-</span><span class="mo">01</span> <span class="mi">13</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">21</span><span class="o">+</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>  <span class="mf">92380772.0</span>
                        <span class="o">.</span>
                        <span class="o">.</span>
                        <span class="o">.</span>
</pre></div>

<h3 id="methods_4">Methods<a class="headerlink" href="#methods_4" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_4">dependency_graph<a class="headerlink" href="#dependency_graph_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1073">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_49">Parameters<a class="headerlink" href="#parameters_49" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_60">Returns<a class="headerlink" href="#returns_60" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_13">Examples<a class="headerlink" href="#examples_13" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_4">explain<a class="headerlink" href="#explain_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L547">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_50">Parameters<a class="headerlink" href="#parameters_50" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_61">Returns<a class="headerlink" href="#returns_61" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_4">get_dataframe<a class="headerlink" href="#get_dataframe_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L252">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_62">Returns<a class="headerlink" href="#returns_62" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_4">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L217">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_63">Returns<a class="headerlink" href="#returns_63" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_4">get_query<a class="headerlink" href="#get_query_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L186">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_64">Returns<a class="headerlink" href="#returns_64" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_4">get_table<a class="headerlink" href="#get_table_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L314">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_65">Returns<a class="headerlink" href="#returns_65" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_4">head<a class="headerlink" href="#head_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L291">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_51">Parameters<a class="headerlink" href="#parameters_51" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_66">Returns<a class="headerlink" href="#returns_66" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="invalidate_db_cache_4">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L787">flowmachine/core/query.py</a></p>
<p>Drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table. If the table is currently being dropped from elsewhere, this method will block and return when the table has been removed.</p>
<h5 id="parameters_52">Parameters<a class="headerlink" href="#parameters_52" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_4">join<a class="headerlink" href="#join_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L359">flowmachine/core/query.py</a></p>
<h5 id="parameters_53">Parameters<a class="headerlink" href="#parameters_53" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_67">Returns<a class="headerlink" href="#returns_67" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="join_aggregate_4">join_aggregate<a class="headerlink" href="#join_aggregate_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join_aggregate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locations</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/metaclasses.py#L29">flowmachine/features/subscriber/metaclasses.py</a></p>
<p>Join with a location representing object and aggregate spatially.</p>
<h5 id="parameters_54">Parameters<a class="headerlink" href="#parameters_54" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>method</code>: <code>{'mean', 'mode', 'median'}</code></p>
</li>
<li>
<p><code>locations</code></p>
<p>Subscriber locating type query</p>
</li>
</ul>
<h5 id="returns_68">Returns<a class="headerlink" href="#returns_68" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>JoinedSpatialAggregate</code></p>
<p>Query object representing a version of this metric aggregated to the location level.</p>
</li>
</ul>
<h4 id="numeric_subset_4">numeric_subset<a class="headerlink" href="#numeric_subset_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L414">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_55">Parameters<a class="headerlink" href="#parameters_55" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_69">Returns<a class="headerlink" href="#returns_69" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="random_sample_4">random_sample<a class="headerlink" href="#random_sample_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L997">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_56">Parameters<a class="headerlink" href="#parameters_56" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_70">Returns<a class="headerlink" href="#returns_70" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_4">store<a class="headerlink" href="#store_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L649">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="returns_71">Returns<a class="headerlink" href="#returns_71" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_4">subset<a class="headerlink" href="#subset_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L393">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_57">Parameters<a class="headerlink" href="#parameters_57" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_72">Returns<a class="headerlink" href="#returns_72" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql_4">to_sql<a class="headerlink" href="#to_sql_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L477">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_58">Parameters<a class="headerlink" href="#parameters_58" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
</ul>
<h5 id="returns_73">Returns<a class="headerlink" href="#returns_73" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_4">turn_off_caching<a class="headerlink" href="#turn_off_caching_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L158">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching_4">turn_on_caching<a class="headerlink" href="#turn_on_caching_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_4">union<a class="headerlink" href="#union_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L326">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_59">Parameters<a class="headerlink" href="#parameters_59" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_74">Returns<a class="headerlink" href="#returns_74" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_14">Examples<a class="headerlink" href="#examples_14" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_4">cache<a class="headerlink" href="#cache_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L174">flowmachine/core/query.py</a></p>
<h4 id="column_names_4">column_names<a class="headerlink" href="#column_names_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/subscriber/subscriber_tacs.py#L87">flowmachine/features/subscriber/subscriber_tacs.py</a></p>
<p>Returns the column names.</p>
<h4 id="column_names_as_string_list_4">column_names_as_string_list<a class="headerlink" href="#column_names_as_string_list_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names_as_string_list</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L279">flowmachine/core/query.py</a></p>
<p>Get the column names as a comma separated list</p>
<h4 id="dependencies_4">dependencies<a class="headerlink" href="#dependencies_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L728">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_4">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L608">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_4">index_cols<a class="headerlink" href="#index_cols_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L881">flowmachine/core/query.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_4">is_stored<a class="headerlink" href="#is_stored_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L634">flowmachine/core/query.py</a></p>
<h4 id="md5_4">md5<a class="headerlink" href="#md5_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L78">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_4">table_name<a class="headerlink" href="#table_name_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L621">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../subscriber_location_cluster/" title="subscriber_location_cluster" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                subscriber_location_cluster
              </span>
            </div>
          </a>
        
        
          <a href="../topup_amount/" title="topup_amount" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                topup_amount
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/Flowminder" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/Flowminder" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../../assets/javascripts/application.d9aa80ab.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../../.."}})</script>
      
        <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
      
    
  </body>
</html>