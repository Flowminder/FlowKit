



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>flows</title>
      
    
    
      <link rel="stylesheet" href="../../../../../../assets/stylesheets/application.572ca0f0.css">
      
        <link rel="stylesheet" href="../../../../../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../../../../../assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://unpkg.com/mermaid@7.1.2/dist/mermaid.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="#095798" data-md-color-accent="#2977b8">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#flowmachinefeatureslocationflows" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../../../../.." title="FlowKit" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                FlowKit
              </span>
              <span class="md-header-nav__topic">
                flows
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/Flowminder/FlowKit" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Flowminder/FlowKit
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../../../../.." title="FlowKit" class="md-tabs__link">
        FlowKit
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../../../administrator/cache_management/" title="Administrator" class="md-tabs__link">
          Administrator
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../../../analyst/example_usage/" title="Analyst" class="md-tabs__link">
          Analyst
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../../" title="Developer" class="md-tabs__link md-tabs__link--active">
          Developer
        </a>
      
    </li>
  

  

  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../../../../.." title="FlowKit" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    FlowKit
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/Flowminder/FlowKit" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      Flowminder/FlowKit
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../.." title="FlowKit" class="md-nav__link">
      FlowKit
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../../flowapi/" title="FlowAPI" class="md-nav__link">
      FlowAPI
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../../flowauth/" title="FlowAuth" class="md-nav__link">
      FlowAuth
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../../flowclient/" title="FlowClient" class="md-nav__link">
      FlowClient
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../../flowdb/" title="FlowDB" class="md-nav__link">
      FlowDB
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../../flowmachine/" title="FlowMachine" class="md-nav__link">
      FlowMachine
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../../../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Administrator
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Administrator
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../../../administrator/cache_management/" title="Caching in FlowKit" class="md-nav__link">
      Caching in FlowKit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../../../administrator/logging/" title="Logging" class="md-nav__link">
      Logging
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Analyst
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Analyst
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../../../analyst/example_usage/" title="Example usage" class="md-nav__link">
      Example usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-2" type="checkbox" id="nav-9-2">
    
    <label class="md-nav__link" for="nav-9-2">
      Client
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-2">
        Client
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-2-1" type="checkbox" id="nav-9-2-1">
    
    <label class="md-nav__link" for="nav-9-2-1">
      Flowclient
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-9-2-1">
        Flowclient
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../../../analyst/client/flowclient/" title="flowclient" class="md-nav__link">
      flowclient
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../../../analyst/client/flowclient/client/" title="client" class="md-nav__link">
      client
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10" checked>
    
    <label class="md-nav__link" for="nav-10">
      Developer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Developer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1" type="checkbox" id="nav-10-1" checked>
    
    <label class="md-nav__link" for="nav-10-1">
      Api
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-1">
        Api
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1" type="checkbox" id="nav-10-1-1" checked>
    
    <label class="md-nav__link" for="nav-10-1-1">
      Flowmachine
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-10-1-1">
        Flowmachine
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../" title="flowmachine" class="md-nav__link">
      flowmachine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-2" type="checkbox" id="nav-10-1-1-2">
    
    <label class="md-nav__link" for="nav-10-1-1-2">
      Core
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-10-1-1-2">
        Core
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/" title="core" class="md-nav__link">
      core
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/cache/" title="cache" class="md-nav__link">
      cache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/connection/" title="connection" class="md-nav__link">
      connection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/custom_query/" title="custom_query" class="md-nav__link">
      custom_query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-2-5" type="checkbox" id="nav-10-1-1-2-5">
    
    <label class="md-nav__link" for="nav-10-1-1-2-5">
      Errors
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-10-1-1-2-5">
        Errors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/errors/" title="errors" class="md-nav__link">
      errors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/errors/flowmachine_errors/" title="flowmachine_errors" class="md-nav__link">
      flowmachine_errors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/geotable/" title="geotable" class="md-nav__link">
      geotable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/init/" title="init" class="md-nav__link">
      init
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/join/" title="join" class="md-nav__link">
      join
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/join_to_location/" title="join_to_location" class="md-nav__link">
      join_to_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-2-10" type="checkbox" id="nav-10-1-1-2-10">
    
    <label class="md-nav__link" for="nav-10-1-1-2-10">
      Mixins
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-10-1-1-2-10">
        Mixins
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/mixins/" title="mixins" class="md-nav__link">
      mixins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/mixins/geodata_mixin/" title="geodata_mixin" class="md-nav__link">
      geodata_mixin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/mixins/graph_mixin/" title="graph_mixin" class="md-nav__link">
      graph_mixin
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/model/" title="model" class="md-nav__link">
      model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/model_result/" title="model_result" class="md-nav__link">
      model_result
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/query/" title="query" class="md-nav__link">
      query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/random/" title="random" class="md-nav__link">
      random
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-2-15" type="checkbox" id="nav-10-1-1-2-15">
    
    <label class="md-nav__link" for="nav-10-1-1-2-15">
      Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-10-1-1-2-15">
        Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/server/" title="server" class="md-nav__link">
      server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/server/query_proxy/" title="query_proxy" class="md-nav__link">
      query_proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/server/zmq_interface/" title="zmq_interface" class="md-nav__link">
      zmq_interface
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/subset/" title="subset" class="md-nav__link">
      subset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/table/" title="table" class="md-nav__link">
      table
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/union/" title="union" class="md-nav__link">
      union
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../core/utils/" title="utils" class="md-nav__link">
      utils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-3" type="checkbox" id="nav-10-1-1-3" checked>
    
    <label class="md-nav__link" for="nav-10-1-1-3">
      Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-10-1-1-3">
        Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="features" class="md-nav__link">
      features
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-3-2" type="checkbox" id="nav-10-1-1-3-2" checked>
    
    <label class="md-nav__link" for="nav-10-1-1-3-2">
      Location
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-10-1-1-3-2">
        Location
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="location" class="md-nav__link">
      location
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        flows
      </label>
    
    <a href="./" title="flows" class="md-nav__link md-nav__link--active">
      flows
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#class-baseflow" title="Class BaseFlow" class="md-nav__link">
    Class BaseFlow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_1" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_1" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_2" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_3" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_4" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_5" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_2" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_6" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_7" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_3" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_4" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_8" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_5" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_9" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_10" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_6" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_11" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_7" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_12" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_8" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_13" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_9" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_14" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_10" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_15" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_1" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-baseinoutflow" title="Class BaseInOutFlow" class="md-nav__link">
    Class BaseInOutFlow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_1" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_11" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_1" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_1" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_12" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_16" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_2" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_1" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_13" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_17" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_1" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_18" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_1" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_19" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_1" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_20" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_1" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_21" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_1" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_14" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_22" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_1" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_15" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_1" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_16" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_23" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_1" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_17" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_24" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_1" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_18" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_25" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_1" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_19" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_26" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_1" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_20" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_27" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson" title="to_geojson" class="md-nav__link">
    to_geojson
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_21" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_28" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_file" title="to_geojson_file" class="md-nav__link">
    to_geojson_file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_22" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_string" title="to_geojson_string" class="md-nav__link">
    to_geojson_string
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_23" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_29" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geopandas" title="to_geopandas" class="md-nav__link">
    to_geopandas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_24" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_30" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_1" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_25" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_31" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_1" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_1" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_1" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_26" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_32" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_3" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_1" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_1" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_1" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_1" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_1" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_1" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_1" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_1" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-edgelist" title="Class EdgeList" class="md-nav__link">
    Class EdgeList
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_2" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_27" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_4" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_2" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_2" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_28" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_33" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_5" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_2" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_29" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_34" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_2" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_35" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_2" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_36" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_2" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_37" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_2" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_38" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_2" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_30" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_39" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_1" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_40" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_2" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_31" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_2" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_32" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_41" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_2" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_33" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_42" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_1" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_43" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_2" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_34" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_44" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_2" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_35" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_45" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_2" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_36" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_46" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_2" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_37" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_47" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_2" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_2" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_2" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_38" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_48" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_6" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_2" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_2" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_2" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_2" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_2" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_2" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_2" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_2" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowdiv" title="Class FlowDiv" class="md-nav__link">
    Class FlowDiv
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_3" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_39" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_3" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_3" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_40" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_49" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_7" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_3" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_41" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_50" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_3" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_51" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_3" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_52" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_3" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_53" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_3" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_54" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_3" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_42" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_55" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_2" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_56" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_3" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_43" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_3" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_44" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_57" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_3" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_45" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_58" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_2" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_59" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_3" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_46" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_60" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_3" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_47" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_61" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_3" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_48" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_62" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_3" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_49" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_63" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_3" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_3" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_3" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_50" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_64" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_8" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_3" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_3" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_3" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_3" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_3" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_3" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_3" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_3" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowmath" title="Class FlowMath" class="md-nav__link">
    Class FlowMath
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_4" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_51" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_4" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_4" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_52" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_65" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_9" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_4" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_53" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_66" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_4" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_67" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_4" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_68" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_4" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_69" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_4" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_70" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_4" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_54" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_71" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_3" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_72" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_4" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_55" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_4" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_56" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_73" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_4" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_57" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_74" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_3" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_75" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_4" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_58" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_76" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_4" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_59" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_77" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_4" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_60" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_78" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_4" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_61" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_79" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_4" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_4" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_4" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_62" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_80" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_10" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_4" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_4" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_4" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_4" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_4" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_4" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_4" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_4" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowmul" title="Class FlowMul" class="md-nav__link">
    Class FlowMul
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_5" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_63" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_5" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_5" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_64" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_81" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_11" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_5" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_65" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_82" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_5" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_83" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_5" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_84" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_5" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_85" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_5" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_86" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_5" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_66" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_87" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_4" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_88" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_5" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_67" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_5" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_68" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_89" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_5" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_69" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_90" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_4" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_91" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_5" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_70" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_92" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_5" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_71" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_93" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_5" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_72" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_94" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_5" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_73" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_95" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_5" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_5" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_5" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_74" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_96" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_12" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_5" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_5" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_5" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_5" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_5" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_5" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_5" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_5" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowpow" title="Class FlowPow" class="md-nav__link">
    Class FlowPow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_6" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_75" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_6" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_6" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_76" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_97" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_13" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_6" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_77" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_98" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_6" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_99" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_6" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_100" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_6" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_101" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_6" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_102" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_6" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_78" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_103" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_5" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_104" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_6" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_79" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_6" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_80" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_105" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_6" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_81" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_106" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_5" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_107" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_6" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_82" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_108" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_6" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_83" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_109" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_6" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_84" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_110" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_6" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_85" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_111" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_6" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_6" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_6" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_86" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_112" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_14" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_6" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_6" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_6" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_6" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_6" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_6" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_6" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_6" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowsub" title="Class FlowSub" class="md-nav__link">
    Class FlowSub
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_7" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_87" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_7" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_7" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_88" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_113" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_15" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_7" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_89" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_114" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_7" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_115" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_7" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_116" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_7" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_117" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_7" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_118" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_7" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_90" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_119" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_6" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_120" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_7" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_91" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_7" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_92" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_121" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_7" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_93" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_122" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_6" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_123" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_7" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_94" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_124" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_7" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_95" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_125" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_7" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_96" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_126" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_7" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_97" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_127" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_7" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_7" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_7" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_98" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_128" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_16" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_7" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_7" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_7" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_7" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_7" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_7" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_7" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_7" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowsum" title="Class FlowSum" class="md-nav__link">
    Class FlowSum
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_8" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_99" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_8" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_8" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_100" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_129" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_17" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_8" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_101" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_130" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_8" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_131" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_8" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_132" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_8" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_133" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_8" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_134" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_8" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_102" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_135" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_7" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_136" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_8" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_103" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_8" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_104" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_137" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_8" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_105" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_138" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_7" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_139" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_8" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_106" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_140" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_8" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_107" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_141" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_8" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_108" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_142" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_8" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_109" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_143" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_8" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_8" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_8" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_110" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_144" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_18" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_8" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_8" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_8" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_8" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_8" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_8" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_8" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_8" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flows" title="Class Flows" class="md-nav__link">
    Class Flows
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_9" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_111" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_9" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_9" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_112" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_145" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_19" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_9" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_113" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_146" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_9" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_147" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_9" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_148" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_9" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_149" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_9" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_150" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_9" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_114" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_151" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_8" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_152" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_9" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_115" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_9" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_116" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_153" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_9" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_117" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_154" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_8" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_155" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_9" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_118" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_156" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_9" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_119" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_157" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_9" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_120" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_158" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_1" title="to_geojson" class="md-nav__link">
    to_geojson
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_121" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_159" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_file_1" title="to_geojson_file" class="md-nav__link">
    to_geojson_file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_122" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_string_1" title="to_geojson_string" class="md-nav__link">
    to_geojson_string
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_123" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_160" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geopandas_1" title="to_geopandas" class="md-nav__link">
    to_geopandas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_124" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_161" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_networkx" title="to_networkx" class="md-nav__link">
    to_networkx
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_125" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_162" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_9" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_126" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_163" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_9" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_9" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_9" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_127" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_164" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_20" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_9" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_9" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_9" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_9" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_9" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_9" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_9" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_9" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-inflow" title="Class InFlow" class="md-nav__link">
    Class InFlow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_10" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_10" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_10" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_128" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_165" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_21" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_10" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_129" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_166" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_10" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_167" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_10" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_168" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_10" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_169" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_10" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_170" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_10" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_130" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_171" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_10" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_131" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_10" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_132" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_172" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_10" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_133" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_173" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_10" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_134" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_174" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_10" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_135" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_175" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_10" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_136" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_176" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_2" title="to_geojson" class="md-nav__link">
    to_geojson
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_137" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_177" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_file_2" title="to_geojson_file" class="md-nav__link">
    to_geojson_file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_138" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_string_2" title="to_geojson_string" class="md-nav__link">
    to_geojson_string
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_139" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_178" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geopandas_2" title="to_geopandas" class="md-nav__link">
    to_geopandas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_140" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_179" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_10" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_141" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_180" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_10" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_10" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_10" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_142" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_181" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_22" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_10" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_10" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_10" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_10" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_10" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_10" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_10" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_10" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-outflow" title="Class OutFlow" class="md-nav__link">
    Class OutFlow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_11" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_11" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_11" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_143" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_182" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_23" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_11" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_144" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_183" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_11" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_184" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_11" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_185" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_11" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_186" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_11" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_187" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_11" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_145" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_188" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_11" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_146" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_11" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_147" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_189" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_11" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_148" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_190" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_11" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_149" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_191" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_11" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_150" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_192" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_11" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_151" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_193" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_3" title="to_geojson" class="md-nav__link">
    to_geojson
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_152" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_194" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_file_3" title="to_geojson_file" class="md-nav__link">
    to_geojson_file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_153" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_string_3" title="to_geojson_string" class="md-nav__link">
    to_geojson_string
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_154" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_195" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geopandas_3" title="to_geopandas" class="md-nav__link">
    to_geopandas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_155" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_196" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_11" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_156" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_197" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_11" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_11" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_11" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_157" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_198" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_24" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_11" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_11" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_11" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_11" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_11" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_11" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_11" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_11" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../location_introversion/" title="location_introversion" class="md-nav__link">
      location_introversion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../total_events/" title="total_events" class="md-nav__link">
      total_events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../unique_subscriber_counts/" title="unique_subscriber_counts" class="md-nav__link">
      unique_subscriber_counts
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-3-3" type="checkbox" id="nav-10-1-1-3-3">
    
    <label class="md-nav__link" for="nav-10-1-1-3-3">
      Network
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-10-1-1-3-3">
        Network
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../network/" title="network" class="md-nav__link">
      network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../network/total_network_objects/" title="total_network_objects" class="md-nav__link">
      total_network_objects
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-3-4" type="checkbox" id="nav-10-1-1-3-4">
    
    <label class="md-nav__link" for="nav-10-1-1-3-4">
      Raster
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-10-1-1-3-4">
        Raster
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../raster/" title="raster" class="md-nav__link">
      raster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../raster/raster_statistics/" title="raster_statistics" class="md-nav__link">
      raster_statistics
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-3-5" type="checkbox" id="nav-10-1-1-3-5">
    
    <label class="md-nav__link" for="nav-10-1-1-3-5">
      Spatial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-10-1-1-3-5">
        Spatial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/" title="spatial" class="md-nav__link">
      spatial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/cell_mappings/" title="cell_mappings" class="md-nav__link">
      cell_mappings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/circles/" title="circles" class="md-nav__link">
      circles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/distance_matrix/" title="distance_matrix" class="md-nav__link">
      distance_matrix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/grid/" title="grid" class="md-nav__link">
      grid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/location_area/" title="location_area" class="md-nav__link">
      location_area
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/location_cluster/" title="location_cluster" class="md-nav__link">
      location_cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../spatial/versioned_infrastructure/" title="versioned_infrastructure" class="md-nav__link">
      versioned_infrastructure
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-3-6" type="checkbox" id="nav-10-1-1-3-6">
    
    <label class="md-nav__link" for="nav-10-1-1-3-6">
      Subscriber
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-10-1-1-3-6">
        Subscriber
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/" title="subscriber" class="md-nav__link">
      subscriber
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/call_days/" title="call_days" class="md-nav__link">
      call_days
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/contact_balance/" title="contact_balance" class="md-nav__link">
      contact_balance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/daily_location/" title="daily_location" class="md-nav__link">
      daily_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/day_trajectories/" title="day_trajectories" class="md-nav__link">
      day_trajectories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/displacement/" title="displacement" class="md-nav__link">
      displacement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/first_location/" title="first_location" class="md-nav__link">
      first_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/last_location/" title="last_location" class="md-nav__link">
      last_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/location_visits/" title="location_visits" class="md-nav__link">
      location_visits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/metaclasses/" title="metaclasses" class="md-nav__link">
      metaclasses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/modal_location/" title="modal_location" class="md-nav__link">
      modal_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/most_frequent_location/" title="most_frequent_location" class="md-nav__link">
      most_frequent_location
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/new_subscribers/" title="new_subscribers" class="md-nav__link">
      new_subscribers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/nocturnal_calls/" title="nocturnal_calls" class="md-nav__link">
      nocturnal_calls
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/pareto_interactions/" title="pareto_interactions" class="md-nav__link">
      pareto_interactions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/proportion_outgoing/" title="proportion_outgoing" class="md-nav__link">
      proportion_outgoing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/radius_of_gyration/" title="radius_of_gyration" class="md-nav__link">
      radius_of_gyration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/scores/" title="scores" class="md-nav__link">
      scores
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/subscriber_call_durations/" title="subscriber_call_durations" class="md-nav__link">
      subscriber_call_durations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/subscriber_degree/" title="subscriber_degree" class="md-nav__link">
      subscriber_degree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/subscriber_location_cluster/" title="subscriber_location_cluster" class="md-nav__link">
      subscriber_location_cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/subscriber_tacs/" title="subscriber_tacs" class="md-nav__link">
      subscriber_tacs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/total_active_periods/" title="total_active_periods" class="md-nav__link">
      total_active_periods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/total_subscriber_events/" title="total_subscriber_events" class="md-nav__link">
      total_subscriber_events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../subscriber/unique_location_counts/" title="unique_location_counts" class="md-nav__link">
      unique_location_counts
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-3-7" type="checkbox" id="nav-10-1-1-3-7">
    
    <label class="md-nav__link" for="nav-10-1-1-3-7">
      Utilities
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="5">
      <label class="md-nav__title" for="nav-10-1-1-3-7">
        Utilities
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/" title="utilities" class="md-nav__link">
      utilities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/feature_collection/" title="feature_collection" class="md-nav__link">
      feature_collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/group_values/" title="group_values" class="md-nav__link">
      group_values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/multilocation/" title="multilocation" class="md-nav__link">
      multilocation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/sets/" title="sets" class="md-nav__link">
      sets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/spatial_aggregates/" title="spatial_aggregates" class="md-nav__link">
      spatial_aggregates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utilities/subscriber_locations/" title="subscriber_locations" class="md-nav__link">
      subscriber_locations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-4" type="checkbox" id="nav-10-1-1-4">
    
    <label class="md-nav__link" for="nav-10-1-1-4">
      Models
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-10-1-1-4">
        Models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/" title="models" class="md-nav__link">
      models
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/louvain/" title="louvain" class="md-nav__link">
      louvain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../models/pwo/" title="pwo" class="md-nav__link">
      pwo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1-1-5" type="checkbox" id="nav-10-1-1-5">
    
    <label class="md-nav__link" for="nav-10-1-1-5">
      Utils
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-10-1-1-5">
        Utils
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../utils/" title="utils" class="md-nav__link">
      utils
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../utils/utils/" title="utils" class="md-nav__link">
      utils
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#class-baseflow" title="Class BaseFlow" class="md-nav__link">
    Class BaseFlow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_1" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_1" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_2" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_3" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_4" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_5" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_2" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_6" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_7" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_3" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_4" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_8" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_5" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_9" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_10" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_6" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_11" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_7" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_12" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_8" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_13" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_9" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_14" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_10" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_15" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_1" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-baseinoutflow" title="Class BaseInOutFlow" class="md-nav__link">
    Class BaseInOutFlow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_1" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_11" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_1" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_1" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_12" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_16" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_2" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_1" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_13" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_17" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_1" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_18" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_1" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_19" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_1" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_20" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_1" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_21" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_1" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_14" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_22" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_1" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_15" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_1" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_16" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_23" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_1" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_17" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_24" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_1" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_18" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_25" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_1" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_19" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_26" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_1" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_20" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_27" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson" title="to_geojson" class="md-nav__link">
    to_geojson
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_21" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_28" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_file" title="to_geojson_file" class="md-nav__link">
    to_geojson_file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_22" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_string" title="to_geojson_string" class="md-nav__link">
    to_geojson_string
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_23" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_29" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geopandas" title="to_geopandas" class="md-nav__link">
    to_geopandas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_24" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_30" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_1" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_25" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_31" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_1" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_1" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_1" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_26" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_32" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_3" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_1" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_1" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_1" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_1" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_1" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_1" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_1" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_1" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-edgelist" title="Class EdgeList" class="md-nav__link">
    Class EdgeList
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_2" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_27" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_4" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_2" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_2" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_28" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_33" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_5" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_2" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_29" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_34" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_2" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_35" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_2" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_36" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_2" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_37" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_2" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_38" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_2" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_30" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_39" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_1" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_40" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_2" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_31" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_2" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_32" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_41" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_2" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_33" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_42" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_1" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_43" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_2" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_34" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_44" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_2" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_35" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_45" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_2" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_36" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_46" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_2" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_37" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_47" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_2" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_2" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_2" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_38" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_48" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_6" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_2" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_2" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_2" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_2" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_2" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_2" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_2" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_2" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowdiv" title="Class FlowDiv" class="md-nav__link">
    Class FlowDiv
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_3" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_39" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_3" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_3" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_40" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_49" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_7" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_3" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_41" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_50" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_3" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_51" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_3" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_52" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_3" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_53" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_3" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_54" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_3" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_42" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_55" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_2" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_56" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_3" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_43" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_3" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_44" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_57" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_3" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_45" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_58" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_2" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_59" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_3" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_46" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_60" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_3" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_47" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_61" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_3" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_48" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_62" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_3" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_49" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_63" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_3" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_3" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_3" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_50" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_64" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_8" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_3" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_3" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_3" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_3" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_3" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_3" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_3" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_3" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowmath" title="Class FlowMath" class="md-nav__link">
    Class FlowMath
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_4" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_51" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_4" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_4" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_52" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_65" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_9" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_4" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_53" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_66" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_4" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_67" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_4" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_68" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_4" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_69" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_4" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_70" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_4" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_54" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_71" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_3" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_72" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_4" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_55" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_4" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_56" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_73" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_4" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_57" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_74" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_3" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_75" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_4" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_58" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_76" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_4" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_59" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_77" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_4" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_60" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_78" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_4" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_61" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_79" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_4" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_4" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_4" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_62" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_80" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_10" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_4" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_4" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_4" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_4" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_4" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_4" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_4" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_4" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowmul" title="Class FlowMul" class="md-nav__link">
    Class FlowMul
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_5" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_63" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_5" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_5" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_64" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_81" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_11" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_5" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_65" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_82" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_5" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_83" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_5" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_84" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_5" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_85" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_5" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_86" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_5" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_66" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_87" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_4" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_88" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_5" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_67" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_5" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_68" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_89" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_5" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_69" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_90" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_4" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_91" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_5" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_70" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_92" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_5" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_71" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_93" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_5" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_72" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_94" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_5" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_73" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_95" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_5" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_5" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_5" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_74" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_96" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_12" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_5" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_5" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_5" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_5" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_5" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_5" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_5" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_5" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowpow" title="Class FlowPow" class="md-nav__link">
    Class FlowPow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_6" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_75" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_6" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_6" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_76" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_97" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_13" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_6" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_77" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_98" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_6" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_99" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_6" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_100" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_6" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_101" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_6" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_102" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_6" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_78" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_103" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_5" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_104" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_6" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_79" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_6" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_80" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_105" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_6" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_81" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_106" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_5" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_107" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_6" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_82" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_108" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_6" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_83" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_109" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_6" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_84" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_110" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_6" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_85" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_111" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_6" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_6" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_6" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_86" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_112" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_14" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_6" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_6" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_6" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_6" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_6" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_6" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_6" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_6" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowsub" title="Class FlowSub" class="md-nav__link">
    Class FlowSub
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_7" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_87" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_7" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_7" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_88" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_113" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_15" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_7" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_89" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_114" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_7" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_115" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_7" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_116" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_7" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_117" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_7" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_118" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_7" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_90" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_119" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_6" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_120" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_7" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_91" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_7" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_92" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_121" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_7" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_93" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_122" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_6" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_123" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_7" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_94" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_124" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_7" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_95" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_125" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_7" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_96" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_126" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_7" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_97" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_127" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_7" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_7" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_7" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_98" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_128" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_16" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_7" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_7" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_7" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_7" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_7" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_7" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_7" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_7" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flowsum" title="Class FlowSum" class="md-nav__link">
    Class FlowSum
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_8" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_99" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_8" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_8" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_100" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_129" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_17" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_8" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_101" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_130" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_8" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_131" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_8" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_132" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_8" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_133" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_8" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_134" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_8" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_102" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_135" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_7" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_136" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_8" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_103" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_8" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_104" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_137" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_8" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_105" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_138" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_7" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_139" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_8" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_106" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_140" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_8" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_107" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_141" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_8" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_108" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_142" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_8" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_109" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_143" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_8" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_8" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_8" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_110" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_144" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_18" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_8" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_8" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_8" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_8" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_8" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_8" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_8" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_8" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-flows" title="Class Flows" class="md-nav__link">
    Class Flows
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_9" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters_111" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_9" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_9" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_112" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_145" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_19" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_9" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_113" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_146" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_9" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_147" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_9" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_148" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_9" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_149" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_9" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_150" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_9" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_114" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_151" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inflow_8" title="inflow" class="md-nav__link">
    inflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_152" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_9" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_115" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_9" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_116" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_153" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_9" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_117" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_154" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outflow_8" title="outflow" class="md-nav__link">
    outflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_155" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_9" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_118" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_156" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_9" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_119" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_157" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_9" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_120" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_158" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_1" title="to_geojson" class="md-nav__link">
    to_geojson
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_121" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_159" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_file_1" title="to_geojson_file" class="md-nav__link">
    to_geojson_file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_122" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_string_1" title="to_geojson_string" class="md-nav__link">
    to_geojson_string
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_123" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_160" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geopandas_1" title="to_geopandas" class="md-nav__link">
    to_geopandas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_124" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_161" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_networkx" title="to_networkx" class="md-nav__link">
    to_networkx
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_125" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_162" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_9" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_126" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_163" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_9" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_9" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_9" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_127" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_164" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_20" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_9" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_9" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_9" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_9" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_9" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_9" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_9" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_9" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-inflow" title="Class InFlow" class="md-nav__link">
    Class InFlow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_10" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_10" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_10" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_128" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_165" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_21" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_10" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_129" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_166" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_10" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_167" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_10" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_168" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_10" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_169" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_10" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_170" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_10" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_130" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_171" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_10" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_131" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_10" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_132" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_172" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_10" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_133" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_173" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_10" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_134" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_174" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_10" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_135" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_175" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_10" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_136" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_176" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_2" title="to_geojson" class="md-nav__link">
    to_geojson
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_137" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_177" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_file_2" title="to_geojson_file" class="md-nav__link">
    to_geojson_file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_138" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_string_2" title="to_geojson_string" class="md-nav__link">
    to_geojson_string
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_139" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_178" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geopandas_2" title="to_geopandas" class="md-nav__link">
    to_geopandas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_140" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_179" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_10" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_141" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_180" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_10" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_10" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_10" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_142" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_181" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_22" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_10" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_10" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_10" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_10" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_10" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_10" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_10" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_10" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class-outflow" title="Class OutFlow" class="md-nav__link">
    Class OutFlow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attributes_11" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods_11" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependency_graph_11" title="dependency_graph" class="md-nav__link">
    dependency_graph
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_143" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_182" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_23" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain_11" title="explain" class="md-nav__link">
    explain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_144" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_183" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_11" title="get_dataframe" class="md-nav__link">
    get_dataframe
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_184" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_dataframe_async_11" title="get_dataframe_async" class="md-nav__link">
    get_dataframe_async
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_185" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_query_11" title="get_query" class="md-nav__link">
    get_query
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_186" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_11" title="get_table" class="md-nav__link">
    get_table
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#returns_187" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#head_11" title="head" class="md-nav__link">
    head
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_145" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_188" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalidate_db_cache_11" title="invalidate_db_cache" class="md-nav__link">
    invalidate_db_cache
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_146" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#join_11" title="join" class="md-nav__link">
    join
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_147" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_189" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric_subset_11" title="numeric_subset" class="md-nav__link">
    numeric_subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_148" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_190" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random_sample_11" title="random_sample" class="md-nav__link">
    random_sample
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_149" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_191" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store_11" title="store" class="md-nav__link">
    store
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_150" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_192" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subset_11" title="subset" class="md-nav__link">
    subset
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_151" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_193" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_3" title="to_geojson" class="md-nav__link">
    to_geojson
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_152" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_194" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_file_3" title="to_geojson_file" class="md-nav__link">
    to_geojson_file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_153" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geojson_string_3" title="to_geojson_string" class="md-nav__link">
    to_geojson_string
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_154" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_195" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_geopandas_3" title="to_geopandas" class="md-nav__link">
    to_geopandas
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_155" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_196" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to_sql_11" title="to_sql" class="md-nav__link">
    to_sql
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_156" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_197" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_off_caching_11" title="turn_off_caching" class="md-nav__link">
    turn_off_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#turn_on_caching_11" title="turn_on_caching" class="md-nav__link">
    turn_on_caching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union_11" title="union" class="md-nav__link">
    union
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_157" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_198" title="Returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_24" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache_11" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column_names_11" title="column_names" class="md-nav__link">
    column_names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies_11" title="dependencies" class="md-nav__link">
    dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fully_qualified_table_name_11" title="fully_qualified_table_name" class="md-nav__link">
    fully_qualified_table_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index_cols_11" title="index_cols" class="md-nav__link">
    index_cols
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_stored_11" title="is_stored" class="md-nav__link">
    is_stored
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#md5_11" title="md5" class="md-nav__link">
    md5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_name_11" title="table_name" class="md-nav__link">
    table_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="flowmachinefeatureslocationflows">flowmachine.features.location.flows<a class="headerlink" href="#flowmachinefeatureslocationflows" title="Permanent link">&para;</a></h1>
<p>Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L0">flowmachine/features/location/flows.py</a></p>
<p>Definition of the flows class, which is the difference in  locations between two daily or home location classes,  aggregated to a location level.</p>
<h2 id="class-baseflow">Class <strong>BaseFlow</strong><a class="headerlink" href="#class-baseflow" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">BaseFlow</span><span class="p">(</span><span class="n">cache</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L27">flowmachine/features/location/flows.py</a></p>
<p>Abstract flow class. There are different forms of flows, e.g. scaled flow and a relative flow. They all have the same form, i.e. from_location, to_location. All of them can be scaled and subtracted.</p>
<h3 id="attributes">Attributes<a class="headerlink" href="#attributes" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="methods">Methods<a class="headerlink" href="#methods" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph">dependency_graph<a class="headerlink" href="#dependency_graph" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns">Returns<a class="headerlink" href="#returns" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain">explain<a class="headerlink" href="#explain" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_1">Parameters<a class="headerlink" href="#parameters_1" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_1">Returns<a class="headerlink" href="#returns_1" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe">get_dataframe<a class="headerlink" href="#get_dataframe" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_2">Returns<a class="headerlink" href="#returns_2" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async">get_dataframe_async<a class="headerlink" href="#get_dataframe_async" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_3">Returns<a class="headerlink" href="#returns_3" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query">get_query<a class="headerlink" href="#get_query" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_4">Returns<a class="headerlink" href="#returns_4" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table">get_table<a class="headerlink" href="#get_table" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_5">Returns<a class="headerlink" href="#returns_5" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head">head<a class="headerlink" href="#head" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_2">Parameters<a class="headerlink" href="#parameters_2" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_6">Returns<a class="headerlink" href="#returns_6" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="inflow">inflow<a class="headerlink" href="#inflow" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">inflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L63">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_7">Returns<a class="headerlink" href="#returns_7" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>InFlow</code></p>
<p>An inflows object. This is the total number of flows that go to one locations, regardless of their origin.</p>
</li>
</ul>
<h4 id="invalidate_db_cache">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_3">Parameters<a class="headerlink" href="#parameters_3" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join">join<a class="headerlink" href="#join" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_4">Parameters<a class="headerlink" href="#parameters_4" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_8">Returns<a class="headerlink" href="#returns_8" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset">numeric_subset<a class="headerlink" href="#numeric_subset" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_5">Parameters<a class="headerlink" href="#parameters_5" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_9">Returns<a class="headerlink" href="#returns_9" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="outflow">outflow<a class="headerlink" href="#outflow" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">outflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L52">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_10">Returns<a class="headerlink" href="#returns_10" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>OutFlow</code></p>
<p>An outflows object. This is the total number of flows that originate from one locations, regardless of their destination.</p>
</li>
</ul>
<h4 id="random_sample">random_sample<a class="headerlink" href="#random_sample" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_6">Parameters<a class="headerlink" href="#parameters_6" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_11">Returns<a class="headerlink" href="#returns_11" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store">store<a class="headerlink" href="#store" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_7">Parameters<a class="headerlink" href="#parameters_7" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_12">Returns<a class="headerlink" href="#returns_12" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset">subset<a class="headerlink" href="#subset" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_8">Parameters<a class="headerlink" href="#parameters_8" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_13">Returns<a class="headerlink" href="#returns_13" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql">to_sql<a class="headerlink" href="#to_sql" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_9">Parameters<a class="headerlink" href="#parameters_9" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_14">Returns<a class="headerlink" href="#returns_14" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching">turn_off_caching<a class="headerlink" href="#turn_off_caching" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching">turn_on_caching<a class="headerlink" href="#turn_on_caching" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union">union<a class="headerlink" href="#union" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_10">Parameters<a class="headerlink" href="#parameters_10" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_15">Returns<a class="headerlink" href="#returns_15" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_1">Examples<a class="headerlink" href="#examples_1" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache">cache<a class="headerlink" href="#cache" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names">column_names<a class="headerlink" href="#column_names" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L79">flowmachine/features/location/flows.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies">dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols">index_cols<a class="headerlink" href="#index_cols" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L74">flowmachine/features/location/flows.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored">is_stored<a class="headerlink" href="#is_stored" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5">md5<a class="headerlink" href="#md5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name">table_name<a class="headerlink" href="#table_name" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-baseinoutflow">Class <strong>BaseInOutFlow</strong><a class="headerlink" href="#class-baseinoutflow" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">BaseInOutFlow</span><span class="p">(</span><span class="n">flow</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L620">flowmachine/features/location/flows.py</a></p>
<p>ABC for both the OutFlow and the Inflow classes.</p>
<h3 id="attributes_1">Attributes<a class="headerlink" href="#attributes_1" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_11">Parameters<a class="headerlink" href="#parameters_11" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>flow</code>: <code>flowmachine.Flows</code></p>
<p>Flows object to derive an in/out flow from</p>
</li>
</ul>
<h3 id="methods_1">Methods<a class="headerlink" href="#methods_1" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_1">dependency_graph<a class="headerlink" href="#dependency_graph_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_12">Parameters<a class="headerlink" href="#parameters_12" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_16">Returns<a class="headerlink" href="#returns_16" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_2">Examples<a class="headerlink" href="#examples_2" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_1">explain<a class="headerlink" href="#explain_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_13">Parameters<a class="headerlink" href="#parameters_13" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_17">Returns<a class="headerlink" href="#returns_17" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_1">get_dataframe<a class="headerlink" href="#get_dataframe_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_18">Returns<a class="headerlink" href="#returns_18" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_1">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_19">Returns<a class="headerlink" href="#returns_19" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_1">get_query<a class="headerlink" href="#get_query_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_20">Returns<a class="headerlink" href="#returns_20" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_1">get_table<a class="headerlink" href="#get_table_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_21">Returns<a class="headerlink" href="#returns_21" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_1">head<a class="headerlink" href="#head_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_14">Parameters<a class="headerlink" href="#parameters_14" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_22">Returns<a class="headerlink" href="#returns_22" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="invalidate_db_cache_1">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_15">Parameters<a class="headerlink" href="#parameters_15" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_1">join<a class="headerlink" href="#join_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_16">Parameters<a class="headerlink" href="#parameters_16" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_23">Returns<a class="headerlink" href="#returns_23" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset_1">numeric_subset<a class="headerlink" href="#numeric_subset_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_17">Parameters<a class="headerlink" href="#parameters_17" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_24">Returns<a class="headerlink" href="#returns_24" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="random_sample_1">random_sample<a class="headerlink" href="#random_sample_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_18">Parameters<a class="headerlink" href="#parameters_18" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_25">Returns<a class="headerlink" href="#returns_25" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_1">store<a class="headerlink" href="#store_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_19">Parameters<a class="headerlink" href="#parameters_19" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_26">Returns<a class="headerlink" href="#returns_26" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_1">subset<a class="headerlink" href="#subset_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_20">Parameters<a class="headerlink" href="#parameters_20" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_27">Returns<a class="headerlink" href="#returns_27" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_geojson">to_geojson<a class="headerlink" href="#to_geojson" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L256">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_21">Parameters<a class="headerlink" href="#parameters_21" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_28">Returns<a class="headerlink" href="#returns_28" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>dict</code></p>
<p>This query as a GeoJson FeatureCollection in dict form. </p>
</li>
</ul>
<h4 id="to_geojson_file">to_geojson_file<a class="headerlink" href="#to_geojson_file" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L202">flowmachine/core/mixins/geodata_mixin.py</a></p>
<p>Export this query to a GeoJson FeatureCollection file.</p>
<h5 id="parameters_22">Parameters<a class="headerlink" href="#parameters_22" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>filename</code>: <code>str</code></p>
<p>File to save resulting geojson as.</p>
</li>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h4 id="to_geojson_string">to_geojson_string<a class="headerlink" href="#to_geojson_string" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L216">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_23">Parameters<a class="headerlink" href="#parameters_23" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_29">Returns<a class="headerlink" href="#returns_29" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>A string containing the this query as a GeoJson FeatureCollection. </p>
</li>
</ul>
<h4 id="to_geopandas">to_geopandas<a class="headerlink" href="#to_geopandas" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geopandas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L304">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_24">Parameters<a class="headerlink" href="#parameters_24" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_30">Returns<a class="headerlink" href="#returns_30" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>GeoDataFrame</code></p>
<p>This query as a GeoPandas GeoDataFrame.</p>
</li>
</ul>
<h4 id="to_sql_1">to_sql<a class="headerlink" href="#to_sql_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_25">Parameters<a class="headerlink" href="#parameters_25" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_31">Returns<a class="headerlink" href="#returns_31" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_1">turn_off_caching<a class="headerlink" href="#turn_off_caching_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L297">flowmachine/core/mixins/geodata_mixin.py</a></p>
<p>Turn off caching. Overridden to also remove cached geojson.</p>
<h4 id="turn_on_caching_1">turn_on_caching<a class="headerlink" href="#turn_on_caching_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_1">union<a class="headerlink" href="#union_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_26">Parameters<a class="headerlink" href="#parameters_26" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_32">Returns<a class="headerlink" href="#returns_32" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_3">Examples<a class="headerlink" href="#examples_3" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_1">cache<a class="headerlink" href="#cache_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names_1">column_names<a class="headerlink" href="#column_names_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L257">flowmachine/core/query.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies_1">dependencies<a class="headerlink" href="#dependencies_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_1">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_1">index_cols<a class="headerlink" href="#index_cols_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L834">flowmachine/core/query.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_1">is_stored<a class="headerlink" href="#is_stored_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5_1">md5<a class="headerlink" href="#md5_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_1">table_name<a class="headerlink" href="#table_name_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-edgelist">Class <strong>EdgeList</strong><a class="headerlink" href="#class-edgelist" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">EdgeList</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">count_column</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">left_handed</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L87">flowmachine/features/location/flows.py</a></p>
<p>Takes a 'normal' Query object, and presents it in a Flows-like form. Essentially, reindexes it by the cross product of the enclosed query's columns. This allows you to use arithmetic operations with a Flows, and a regular Query object.
In vector terms, equivalent to multiplying the query by a transposed one-filled version of itself, expressed as an edgelist.  With <code>left_handed=False</code>, this is equivalent to multiplying a one-filled version of the query by the transposed query.</p>
<h3 id="attributes_2">Attributes<a class="headerlink" href="#attributes_2" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_27">Parameters<a class="headerlink" href="#parameters_27" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to construct an edgelist for, required to have a location column, and at least one numeric column</p>
</li>
<li>
<p><code>count_column</code>: <code>str</code></p>
<p>Name of the column to make the count column, defaults to the rightmost.</p>
</li>
<li>
<p><code>left_handed</code>: <code>bool</code></p>
<p>Handedness of the reindex, set to False for right-handed.</p>
</li>
</ul>
<h3 id="examples_4">Examples<a class="headerlink" href="#examples_4" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="n">dl</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span>
<span class="n">dl</span><span class="o">.</span><span class="n">aggregate</span><span class="p">()</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">()</span>
             <span class="n">name</span>  <span class="n">total</span>
<span class="mi">0</span>           <span class="n">Rasuwa</span>     <span class="mi">11</span>
<span class="mi">1</span>         <span class="n">Sindhuli</span>     <span class="mi">14</span>
<span class="mi">2</span>            <span class="n">Gulmi</span>     <span class="mi">12</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">EdgeList</span><span class="p">(</span><span class="n">dl</span><span class="o">.</span><span class="n">aggregate</span><span class="p">())</span>
<span class="n">f</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">()</span>
    <span class="n">name_from</span>         <span class="n">name_to</span>  <span class="n">count</span>
<span class="mi">0</span>      <span class="n">Rasuwa</span>          <span class="n">Rasuwa</span>     <span class="mi">11</span>
<span class="mi">1</span>      <span class="n">Rasuwa</span>        <span class="n">Sindhuli</span>     <span class="mi">11</span>
<span class="mi">2</span>      <span class="n">Rasuwa</span>           <span class="n">Gulmi</span>     <span class="mi">11</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">EdgeList</span><span class="p">(</span><span class="n">dl</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(),</span> <span class="n">left_handed</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">()</span>
    <span class="n">name_from</span>         <span class="n">name_to</span>  <span class="n">count</span>
<span class="mi">0</span>      <span class="n">Rasuwa</span>          <span class="n">Rasuwa</span>     <span class="mi">11</span>
<span class="mi">1</span>      <span class="n">Rasuwa</span>        <span class="n">Sindhuli</span>     <span class="mi">14</span>
<span class="mi">2</span>      <span class="n">Rasuwa</span>           <span class="n">Gulmi</span>     <span class="mi">12</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">EdgeList</span><span class="p">(</span><span class="n">dl</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(),</span> <span class="n">left_handed</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">count_column</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">()</span>
    <span class="n">name_from</span>         <span class="n">name_to</span>  <span class="n">count</span>
<span class="mi">0</span>      <span class="n">Rasuwa</span>          <span class="n">Rasuwa</span>     <span class="n">Rasuwa</span>
<span class="mi">1</span>      <span class="n">Rasuwa</span>        <span class="n">Sindhuli</span>     <span class="n">Sindhuli</span>
<span class="mi">2</span>      <span class="n">Rasuwa</span>           <span class="n">Gulmi</span>     <span class="n">Gulmi</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">EdgeList</span><span class="p">(</span><span class="n">dl</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(),</span> <span class="n">count_column</span><span class="o">=</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">()</span>
    <span class="n">name_from</span>         <span class="n">name_to</span>  <span class="n">count</span>
<span class="mi">0</span>      <span class="n">Rasuwa</span>          <span class="n">Rasuwa</span>     <span class="n">Rasuwa</span>
<span class="mi">1</span>      <span class="n">Rasuwa</span>        <span class="n">Sindhuli</span>     <span class="n">Rasuwa</span>
<span class="mi">2</span>      <span class="n">Rasuwa</span>           <span class="n">Gulmi</span>     <span class="n">Rasuwa</span>
</pre></div>

<h3 id="methods_2">Methods<a class="headerlink" href="#methods_2" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_2">dependency_graph<a class="headerlink" href="#dependency_graph_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_28">Parameters<a class="headerlink" href="#parameters_28" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_33">Returns<a class="headerlink" href="#returns_33" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_5">Examples<a class="headerlink" href="#examples_5" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_2">explain<a class="headerlink" href="#explain_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_29">Parameters<a class="headerlink" href="#parameters_29" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_34">Returns<a class="headerlink" href="#returns_34" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_2">get_dataframe<a class="headerlink" href="#get_dataframe_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_35">Returns<a class="headerlink" href="#returns_35" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_2">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_36">Returns<a class="headerlink" href="#returns_36" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_2">get_query<a class="headerlink" href="#get_query_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_37">Returns<a class="headerlink" href="#returns_37" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_2">get_table<a class="headerlink" href="#get_table_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_38">Returns<a class="headerlink" href="#returns_38" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_2">head<a class="headerlink" href="#head_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_30">Parameters<a class="headerlink" href="#parameters_30" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_39">Returns<a class="headerlink" href="#returns_39" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="inflow_1">inflow<a class="headerlink" href="#inflow_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">inflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L63">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_40">Returns<a class="headerlink" href="#returns_40" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>InFlow</code></p>
<p>An inflows object. This is the total number of flows that go to one locations, regardless of their origin.</p>
</li>
</ul>
<h4 id="invalidate_db_cache_2">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_31">Parameters<a class="headerlink" href="#parameters_31" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_2">join<a class="headerlink" href="#join_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_32">Parameters<a class="headerlink" href="#parameters_32" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_41">Returns<a class="headerlink" href="#returns_41" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset_2">numeric_subset<a class="headerlink" href="#numeric_subset_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_33">Parameters<a class="headerlink" href="#parameters_33" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_42">Returns<a class="headerlink" href="#returns_42" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="outflow_1">outflow<a class="headerlink" href="#outflow_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">outflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L52">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_43">Returns<a class="headerlink" href="#returns_43" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>OutFlow</code></p>
<p>An outflows object. This is the total number of flows that originate from one locations, regardless of their destination.</p>
</li>
</ul>
<h4 id="random_sample_2">random_sample<a class="headerlink" href="#random_sample_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_34">Parameters<a class="headerlink" href="#parameters_34" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_44">Returns<a class="headerlink" href="#returns_44" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_2">store<a class="headerlink" href="#store_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_35">Parameters<a class="headerlink" href="#parameters_35" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_45">Returns<a class="headerlink" href="#returns_45" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_2">subset<a class="headerlink" href="#subset_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_36">Parameters<a class="headerlink" href="#parameters_36" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_46">Returns<a class="headerlink" href="#returns_46" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql_2">to_sql<a class="headerlink" href="#to_sql_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_37">Parameters<a class="headerlink" href="#parameters_37" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_47">Returns<a class="headerlink" href="#returns_47" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_2">turn_off_caching<a class="headerlink" href="#turn_off_caching_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching_2">turn_on_caching<a class="headerlink" href="#turn_on_caching_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_2">union<a class="headerlink" href="#union_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_38">Parameters<a class="headerlink" href="#parameters_38" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_48">Returns<a class="headerlink" href="#returns_48" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_6">Examples<a class="headerlink" href="#examples_6" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_2">cache<a class="headerlink" href="#cache_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names_2">column_names<a class="headerlink" href="#column_names_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L79">flowmachine/features/location/flows.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies_2">dependencies<a class="headerlink" href="#dependencies_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_2">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_2">index_cols<a class="headerlink" href="#index_cols_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L74">flowmachine/features/location/flows.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_2">is_stored<a class="headerlink" href="#is_stored_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5_2">md5<a class="headerlink" href="#md5_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_2">table_name<a class="headerlink" href="#table_name_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-flowdiv">Class <strong>FlowDiv</strong><a class="headerlink" href="#class-flowdiv" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">FlowDiv</span><span class="p">(</span><span class="n">flowA</span><span class="p">,</span> <span class="n">divisor</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L463">flowmachine/features/location/flows.py</a></p>
<p>An object representing a flow divided by another flow, or a scalar.</p>
<h3 id="attributes_3">Attributes<a class="headerlink" href="#attributes_3" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_39">Parameters<a class="headerlink" href="#parameters_39" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>flowA</code>: <code>Flows</code></p>
<p>Flow to divide.</p>
</li>
<li>
<p><code>divisor</code>: <code>numeric</code>, <code>Flows</code></p>
<p>Divisor to apply to flowA</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Division by zero results in a Null value.</p>
</div>
<h3 id="methods_3">Methods<a class="headerlink" href="#methods_3" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_3">dependency_graph<a class="headerlink" href="#dependency_graph_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_40">Parameters<a class="headerlink" href="#parameters_40" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_49">Returns<a class="headerlink" href="#returns_49" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_7">Examples<a class="headerlink" href="#examples_7" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_3">explain<a class="headerlink" href="#explain_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_41">Parameters<a class="headerlink" href="#parameters_41" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_50">Returns<a class="headerlink" href="#returns_50" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_3">get_dataframe<a class="headerlink" href="#get_dataframe_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_51">Returns<a class="headerlink" href="#returns_51" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_3">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_52">Returns<a class="headerlink" href="#returns_52" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_3">get_query<a class="headerlink" href="#get_query_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_53">Returns<a class="headerlink" href="#returns_53" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_3">get_table<a class="headerlink" href="#get_table_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_54">Returns<a class="headerlink" href="#returns_54" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_3">head<a class="headerlink" href="#head_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_42">Parameters<a class="headerlink" href="#parameters_42" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_55">Returns<a class="headerlink" href="#returns_55" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="inflow_2">inflow<a class="headerlink" href="#inflow_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">inflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L63">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_56">Returns<a class="headerlink" href="#returns_56" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>InFlow</code></p>
<p>An inflows object. This is the total number of flows that go to one locations, regardless of their origin.</p>
</li>
</ul>
<h4 id="invalidate_db_cache_3">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_43">Parameters<a class="headerlink" href="#parameters_43" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_3">join<a class="headerlink" href="#join_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_44">Parameters<a class="headerlink" href="#parameters_44" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_57">Returns<a class="headerlink" href="#returns_57" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset_3">numeric_subset<a class="headerlink" href="#numeric_subset_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_45">Parameters<a class="headerlink" href="#parameters_45" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_58">Returns<a class="headerlink" href="#returns_58" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="outflow_2">outflow<a class="headerlink" href="#outflow_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">outflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L52">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_59">Returns<a class="headerlink" href="#returns_59" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>OutFlow</code></p>
<p>An outflows object. This is the total number of flows that originate from one locations, regardless of their destination.</p>
</li>
</ul>
<h4 id="random_sample_3">random_sample<a class="headerlink" href="#random_sample_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_46">Parameters<a class="headerlink" href="#parameters_46" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_60">Returns<a class="headerlink" href="#returns_60" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_3">store<a class="headerlink" href="#store_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_47">Parameters<a class="headerlink" href="#parameters_47" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_61">Returns<a class="headerlink" href="#returns_61" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_3">subset<a class="headerlink" href="#subset_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_48">Parameters<a class="headerlink" href="#parameters_48" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_62">Returns<a class="headerlink" href="#returns_62" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql_3">to_sql<a class="headerlink" href="#to_sql_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_49">Parameters<a class="headerlink" href="#parameters_49" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_63">Returns<a class="headerlink" href="#returns_63" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_3">turn_off_caching<a class="headerlink" href="#turn_off_caching_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching_3">turn_on_caching<a class="headerlink" href="#turn_on_caching_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_3">union<a class="headerlink" href="#union_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_50">Parameters<a class="headerlink" href="#parameters_50" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_64">Returns<a class="headerlink" href="#returns_64" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_8">Examples<a class="headerlink" href="#examples_8" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_3">cache<a class="headerlink" href="#cache_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names_3">column_names<a class="headerlink" href="#column_names_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L79">flowmachine/features/location/flows.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies_3">dependencies<a class="headerlink" href="#dependencies_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_3">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_3">index_cols<a class="headerlink" href="#index_cols_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L74">flowmachine/features/location/flows.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_3">is_stored<a class="headerlink" href="#is_stored_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5_3">md5<a class="headerlink" href="#md5_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_3">table_name<a class="headerlink" href="#table_name_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-flowmath">Class <strong>FlowMath</strong><a class="headerlink" href="#class-flowmath" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">FlowMath</span><span class="p">(</span><span class="n">objA</span><span class="p">,</span> <span class="n">objB</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L300">flowmachine/features/location/flows.py</a></p>
<p>Class representing a maths op with one or more flows.</p>
<h3 id="attributes_4">Attributes<a class="headerlink" href="#attributes_4" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_51">Parameters<a class="headerlink" href="#parameters_51" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>objA</code>: <code>numeric</code>, <code>Flows</code></p>
<p>Flow or scalar to operate on</p>
</li>
<li>
<p><code>objB</code>: <code>numeric</code>, <code>Flows</code></p>
<p>Flow or scalar to operate on</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At least one of objA or objB must be a flow</p>
</div>
<h3 id="methods_4">Methods<a class="headerlink" href="#methods_4" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_4">dependency_graph<a class="headerlink" href="#dependency_graph_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_52">Parameters<a class="headerlink" href="#parameters_52" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_65">Returns<a class="headerlink" href="#returns_65" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_9">Examples<a class="headerlink" href="#examples_9" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_4">explain<a class="headerlink" href="#explain_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_53">Parameters<a class="headerlink" href="#parameters_53" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_66">Returns<a class="headerlink" href="#returns_66" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_4">get_dataframe<a class="headerlink" href="#get_dataframe_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_67">Returns<a class="headerlink" href="#returns_67" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_4">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_68">Returns<a class="headerlink" href="#returns_68" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_4">get_query<a class="headerlink" href="#get_query_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_69">Returns<a class="headerlink" href="#returns_69" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_4">get_table<a class="headerlink" href="#get_table_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_70">Returns<a class="headerlink" href="#returns_70" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_4">head<a class="headerlink" href="#head_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_54">Parameters<a class="headerlink" href="#parameters_54" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_71">Returns<a class="headerlink" href="#returns_71" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="inflow_3">inflow<a class="headerlink" href="#inflow_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">inflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L63">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_72">Returns<a class="headerlink" href="#returns_72" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>InFlow</code></p>
<p>An inflows object. This is the total number of flows that go to one locations, regardless of their origin.</p>
</li>
</ul>
<h4 id="invalidate_db_cache_4">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_55">Parameters<a class="headerlink" href="#parameters_55" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_4">join<a class="headerlink" href="#join_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_56">Parameters<a class="headerlink" href="#parameters_56" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_73">Returns<a class="headerlink" href="#returns_73" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset_4">numeric_subset<a class="headerlink" href="#numeric_subset_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_57">Parameters<a class="headerlink" href="#parameters_57" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_74">Returns<a class="headerlink" href="#returns_74" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="outflow_3">outflow<a class="headerlink" href="#outflow_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">outflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L52">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_75">Returns<a class="headerlink" href="#returns_75" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>OutFlow</code></p>
<p>An outflows object. This is the total number of flows that originate from one locations, regardless of their destination.</p>
</li>
</ul>
<h4 id="random_sample_4">random_sample<a class="headerlink" href="#random_sample_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_58">Parameters<a class="headerlink" href="#parameters_58" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_76">Returns<a class="headerlink" href="#returns_76" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_4">store<a class="headerlink" href="#store_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_59">Parameters<a class="headerlink" href="#parameters_59" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_77">Returns<a class="headerlink" href="#returns_77" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_4">subset<a class="headerlink" href="#subset_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_60">Parameters<a class="headerlink" href="#parameters_60" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_78">Returns<a class="headerlink" href="#returns_78" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql_4">to_sql<a class="headerlink" href="#to_sql_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_61">Parameters<a class="headerlink" href="#parameters_61" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_79">Returns<a class="headerlink" href="#returns_79" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_4">turn_off_caching<a class="headerlink" href="#turn_off_caching_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching_4">turn_on_caching<a class="headerlink" href="#turn_on_caching_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_4">union<a class="headerlink" href="#union_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_62">Parameters<a class="headerlink" href="#parameters_62" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_80">Returns<a class="headerlink" href="#returns_80" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_10">Examples<a class="headerlink" href="#examples_10" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_4">cache<a class="headerlink" href="#cache_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names_4">column_names<a class="headerlink" href="#column_names_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L79">flowmachine/features/location/flows.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies_4">dependencies<a class="headerlink" href="#dependencies_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_4">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_4">index_cols<a class="headerlink" href="#index_cols_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L74">flowmachine/features/location/flows.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_4">is_stored<a class="headerlink" href="#is_stored_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5_4">md5<a class="headerlink" href="#md5_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_4">table_name<a class="headerlink" href="#table_name_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-flowmul">Class <strong>FlowMul</strong><a class="headerlink" href="#class-flowmul" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">FlowMul</span><span class="p">(</span><span class="n">flowA</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L501">flowmachine/features/location/flows.py</a></p>
<p>An object representing a multiplied flow.</p>
<h3 id="attributes_5">Attributes<a class="headerlink" href="#attributes_5" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_63">Parameters<a class="headerlink" href="#parameters_63" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>flowA</code>: <code>Flows</code></p>
<p>Left hand side of multiplication</p>
</li>
<li>
<p><code>multiplier</code>: <code>numeric</code>, <code>Flows</code></p>
<p>Multiplier to apply to flowA</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If using a Flow as the multiplier, multiplication is performed element wise.</p>
</div>
<h3 id="methods_5">Methods<a class="headerlink" href="#methods_5" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_5">dependency_graph<a class="headerlink" href="#dependency_graph_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_64">Parameters<a class="headerlink" href="#parameters_64" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_81">Returns<a class="headerlink" href="#returns_81" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_11">Examples<a class="headerlink" href="#examples_11" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_5">explain<a class="headerlink" href="#explain_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_65">Parameters<a class="headerlink" href="#parameters_65" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_82">Returns<a class="headerlink" href="#returns_82" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_5">get_dataframe<a class="headerlink" href="#get_dataframe_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_83">Returns<a class="headerlink" href="#returns_83" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_5">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_84">Returns<a class="headerlink" href="#returns_84" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_5">get_query<a class="headerlink" href="#get_query_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_85">Returns<a class="headerlink" href="#returns_85" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_5">get_table<a class="headerlink" href="#get_table_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_86">Returns<a class="headerlink" href="#returns_86" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_5">head<a class="headerlink" href="#head_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_66">Parameters<a class="headerlink" href="#parameters_66" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_87">Returns<a class="headerlink" href="#returns_87" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="inflow_4">inflow<a class="headerlink" href="#inflow_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">inflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L63">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_88">Returns<a class="headerlink" href="#returns_88" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>InFlow</code></p>
<p>An inflows object. This is the total number of flows that go to one locations, regardless of their origin.</p>
</li>
</ul>
<h4 id="invalidate_db_cache_5">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_67">Parameters<a class="headerlink" href="#parameters_67" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_5">join<a class="headerlink" href="#join_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_68">Parameters<a class="headerlink" href="#parameters_68" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_89">Returns<a class="headerlink" href="#returns_89" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset_5">numeric_subset<a class="headerlink" href="#numeric_subset_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_69">Parameters<a class="headerlink" href="#parameters_69" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_90">Returns<a class="headerlink" href="#returns_90" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="outflow_4">outflow<a class="headerlink" href="#outflow_4" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">outflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L52">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_91">Returns<a class="headerlink" href="#returns_91" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>OutFlow</code></p>
<p>An outflows object. This is the total number of flows that originate from one locations, regardless of their destination.</p>
</li>
</ul>
<h4 id="random_sample_5">random_sample<a class="headerlink" href="#random_sample_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_70">Parameters<a class="headerlink" href="#parameters_70" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_92">Returns<a class="headerlink" href="#returns_92" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_5">store<a class="headerlink" href="#store_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_71">Parameters<a class="headerlink" href="#parameters_71" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_93">Returns<a class="headerlink" href="#returns_93" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_5">subset<a class="headerlink" href="#subset_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_72">Parameters<a class="headerlink" href="#parameters_72" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_94">Returns<a class="headerlink" href="#returns_94" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql_5">to_sql<a class="headerlink" href="#to_sql_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_73">Parameters<a class="headerlink" href="#parameters_73" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_95">Returns<a class="headerlink" href="#returns_95" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_5">turn_off_caching<a class="headerlink" href="#turn_off_caching_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching_5">turn_on_caching<a class="headerlink" href="#turn_on_caching_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_5">union<a class="headerlink" href="#union_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_74">Parameters<a class="headerlink" href="#parameters_74" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_96">Returns<a class="headerlink" href="#returns_96" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_12">Examples<a class="headerlink" href="#examples_12" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_5">cache<a class="headerlink" href="#cache_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names_5">column_names<a class="headerlink" href="#column_names_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L79">flowmachine/features/location/flows.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies_5">dependencies<a class="headerlink" href="#dependencies_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_5">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_5">index_cols<a class="headerlink" href="#index_cols_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L74">flowmachine/features/location/flows.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_5">is_stored<a class="headerlink" href="#is_stored_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5_5">md5<a class="headerlink" href="#md5_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_5">table_name<a class="headerlink" href="#table_name_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-flowpow">Class <strong>FlowPow</strong><a class="headerlink" href="#class-flowpow" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">FlowPow</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="n">exponent</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L428">flowmachine/features/location/flows.py</a></p>
<p>Class representing a flow raised to a power.</p>
<h3 id="attributes_6">Attributes<a class="headerlink" href="#attributes_6" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_75">Parameters<a class="headerlink" href="#parameters_75" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>flow</code>: <code>Flows</code></p>
<p>Flow to raise element wise to a power</p>
</li>
<li>
<p><code>exponent</code>: <code>numeric</code>, <code>Flows</code></p>
<p>Power to raise to</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a flow is provided, this is performed element wise</p>
</div>
<h3 id="methods_6">Methods<a class="headerlink" href="#methods_6" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_6">dependency_graph<a class="headerlink" href="#dependency_graph_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_76">Parameters<a class="headerlink" href="#parameters_76" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_97">Returns<a class="headerlink" href="#returns_97" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_13">Examples<a class="headerlink" href="#examples_13" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_6">explain<a class="headerlink" href="#explain_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_77">Parameters<a class="headerlink" href="#parameters_77" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_98">Returns<a class="headerlink" href="#returns_98" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_6">get_dataframe<a class="headerlink" href="#get_dataframe_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_99">Returns<a class="headerlink" href="#returns_99" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_6">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_100">Returns<a class="headerlink" href="#returns_100" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_6">get_query<a class="headerlink" href="#get_query_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_101">Returns<a class="headerlink" href="#returns_101" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_6">get_table<a class="headerlink" href="#get_table_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_102">Returns<a class="headerlink" href="#returns_102" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_6">head<a class="headerlink" href="#head_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_78">Parameters<a class="headerlink" href="#parameters_78" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_103">Returns<a class="headerlink" href="#returns_103" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="inflow_5">inflow<a class="headerlink" href="#inflow_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">inflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L63">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_104">Returns<a class="headerlink" href="#returns_104" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>InFlow</code></p>
<p>An inflows object. This is the total number of flows that go to one locations, regardless of their origin.</p>
</li>
</ul>
<h4 id="invalidate_db_cache_6">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_79">Parameters<a class="headerlink" href="#parameters_79" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_6">join<a class="headerlink" href="#join_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_80">Parameters<a class="headerlink" href="#parameters_80" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_105">Returns<a class="headerlink" href="#returns_105" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset_6">numeric_subset<a class="headerlink" href="#numeric_subset_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_81">Parameters<a class="headerlink" href="#parameters_81" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_106">Returns<a class="headerlink" href="#returns_106" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="outflow_5">outflow<a class="headerlink" href="#outflow_5" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">outflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L52">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_107">Returns<a class="headerlink" href="#returns_107" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>OutFlow</code></p>
<p>An outflows object. This is the total number of flows that originate from one locations, regardless of their destination.</p>
</li>
</ul>
<h4 id="random_sample_6">random_sample<a class="headerlink" href="#random_sample_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_82">Parameters<a class="headerlink" href="#parameters_82" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_108">Returns<a class="headerlink" href="#returns_108" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_6">store<a class="headerlink" href="#store_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_83">Parameters<a class="headerlink" href="#parameters_83" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_109">Returns<a class="headerlink" href="#returns_109" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_6">subset<a class="headerlink" href="#subset_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_84">Parameters<a class="headerlink" href="#parameters_84" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_110">Returns<a class="headerlink" href="#returns_110" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql_6">to_sql<a class="headerlink" href="#to_sql_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_85">Parameters<a class="headerlink" href="#parameters_85" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_111">Returns<a class="headerlink" href="#returns_111" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_6">turn_off_caching<a class="headerlink" href="#turn_off_caching_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching_6">turn_on_caching<a class="headerlink" href="#turn_on_caching_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_6">union<a class="headerlink" href="#union_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_86">Parameters<a class="headerlink" href="#parameters_86" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_112">Returns<a class="headerlink" href="#returns_112" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_14">Examples<a class="headerlink" href="#examples_14" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_6">cache<a class="headerlink" href="#cache_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names_6">column_names<a class="headerlink" href="#column_names_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L79">flowmachine/features/location/flows.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies_6">dependencies<a class="headerlink" href="#dependencies_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_6">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_6">index_cols<a class="headerlink" href="#index_cols_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L74">flowmachine/features/location/flows.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_6">is_stored<a class="headerlink" href="#is_stored_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5_6">md5<a class="headerlink" href="#md5_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_6">table_name<a class="headerlink" href="#table_name_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-flowsub">Class <strong>FlowSub</strong><a class="headerlink" href="#class-flowsub" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">FlowSub</span><span class="p">(</span><span class="n">objA</span><span class="p">,</span> <span class="n">objB</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L596">flowmachine/features/location/flows.py</a></p>
<p>An object representing the difference between two flows. Flows missing from one object are treated as if zero in the other.</p>
<h3 id="attributes_7">Attributes<a class="headerlink" href="#attributes_7" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_87">Parameters<a class="headerlink" href="#parameters_87" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>objA</code>: <code>numeric</code>, <code>Flows</code></p>
<p>Object to subtract from</p>
</li>
<li>
<p><code>objB</code>: <code>numeric</code>, <code>Flows</code></p>
<p>Object to subtract</p>
</li>
</ul>
<h3 id="methods_7">Methods<a class="headerlink" href="#methods_7" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_7">dependency_graph<a class="headerlink" href="#dependency_graph_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_88">Parameters<a class="headerlink" href="#parameters_88" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_113">Returns<a class="headerlink" href="#returns_113" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_15">Examples<a class="headerlink" href="#examples_15" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_7">explain<a class="headerlink" href="#explain_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_89">Parameters<a class="headerlink" href="#parameters_89" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_114">Returns<a class="headerlink" href="#returns_114" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_7">get_dataframe<a class="headerlink" href="#get_dataframe_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_115">Returns<a class="headerlink" href="#returns_115" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_7">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_116">Returns<a class="headerlink" href="#returns_116" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_7">get_query<a class="headerlink" href="#get_query_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_117">Returns<a class="headerlink" href="#returns_117" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_7">get_table<a class="headerlink" href="#get_table_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_118">Returns<a class="headerlink" href="#returns_118" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_7">head<a class="headerlink" href="#head_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_90">Parameters<a class="headerlink" href="#parameters_90" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_119">Returns<a class="headerlink" href="#returns_119" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="inflow_6">inflow<a class="headerlink" href="#inflow_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">inflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L63">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_120">Returns<a class="headerlink" href="#returns_120" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>InFlow</code></p>
<p>An inflows object. This is the total number of flows that go to one locations, regardless of their origin.</p>
</li>
</ul>
<h4 id="invalidate_db_cache_7">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_91">Parameters<a class="headerlink" href="#parameters_91" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_7">join<a class="headerlink" href="#join_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_92">Parameters<a class="headerlink" href="#parameters_92" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_121">Returns<a class="headerlink" href="#returns_121" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset_7">numeric_subset<a class="headerlink" href="#numeric_subset_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_93">Parameters<a class="headerlink" href="#parameters_93" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_122">Returns<a class="headerlink" href="#returns_122" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="outflow_6">outflow<a class="headerlink" href="#outflow_6" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">outflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L52">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_123">Returns<a class="headerlink" href="#returns_123" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>OutFlow</code></p>
<p>An outflows object. This is the total number of flows that originate from one locations, regardless of their destination.</p>
</li>
</ul>
<h4 id="random_sample_7">random_sample<a class="headerlink" href="#random_sample_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_94">Parameters<a class="headerlink" href="#parameters_94" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_124">Returns<a class="headerlink" href="#returns_124" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_7">store<a class="headerlink" href="#store_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_95">Parameters<a class="headerlink" href="#parameters_95" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_125">Returns<a class="headerlink" href="#returns_125" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_7">subset<a class="headerlink" href="#subset_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_96">Parameters<a class="headerlink" href="#parameters_96" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_126">Returns<a class="headerlink" href="#returns_126" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql_7">to_sql<a class="headerlink" href="#to_sql_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_97">Parameters<a class="headerlink" href="#parameters_97" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_127">Returns<a class="headerlink" href="#returns_127" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_7">turn_off_caching<a class="headerlink" href="#turn_off_caching_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching_7">turn_on_caching<a class="headerlink" href="#turn_on_caching_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_7">union<a class="headerlink" href="#union_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_98">Parameters<a class="headerlink" href="#parameters_98" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_128">Returns<a class="headerlink" href="#returns_128" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_16">Examples<a class="headerlink" href="#examples_16" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_7">cache<a class="headerlink" href="#cache_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names_7">column_names<a class="headerlink" href="#column_names_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L79">flowmachine/features/location/flows.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies_7">dependencies<a class="headerlink" href="#dependencies_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_7">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_7">index_cols<a class="headerlink" href="#index_cols_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L74">flowmachine/features/location/flows.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_7">is_stored<a class="headerlink" href="#is_stored_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5_7">md5<a class="headerlink" href="#md5_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_7">table_name<a class="headerlink" href="#table_name_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-flowsum">Class <strong>FlowSum</strong><a class="headerlink" href="#class-flowsum" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">FlowSum</span><span class="p">(</span><span class="n">objA</span><span class="p">,</span> <span class="n">objB</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L532">flowmachine/features/location/flows.py</a></p>
<p>An object representing the sum of two flows.</p>
<h3 id="attributes_8">Attributes<a class="headerlink" href="#attributes_8" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_99">Parameters<a class="headerlink" href="#parameters_99" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>objA</code>: <code>numeric</code>, <code>Flows</code></p>
<p>Object to add to</p>
</li>
<li>
<p><code>objB</code>: <code>numeric</code>, <code>Flows</code></p>
<p>Object to add</p>
</li>
</ul>
<h3 id="methods_8">Methods<a class="headerlink" href="#methods_8" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_8">dependency_graph<a class="headerlink" href="#dependency_graph_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_100">Parameters<a class="headerlink" href="#parameters_100" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_129">Returns<a class="headerlink" href="#returns_129" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_17">Examples<a class="headerlink" href="#examples_17" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_8">explain<a class="headerlink" href="#explain_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_101">Parameters<a class="headerlink" href="#parameters_101" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_130">Returns<a class="headerlink" href="#returns_130" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_8">get_dataframe<a class="headerlink" href="#get_dataframe_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_131">Returns<a class="headerlink" href="#returns_131" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_8">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_132">Returns<a class="headerlink" href="#returns_132" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_8">get_query<a class="headerlink" href="#get_query_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_133">Returns<a class="headerlink" href="#returns_133" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_8">get_table<a class="headerlink" href="#get_table_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_134">Returns<a class="headerlink" href="#returns_134" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_8">head<a class="headerlink" href="#head_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_102">Parameters<a class="headerlink" href="#parameters_102" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_135">Returns<a class="headerlink" href="#returns_135" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="inflow_7">inflow<a class="headerlink" href="#inflow_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">inflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L63">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_136">Returns<a class="headerlink" href="#returns_136" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>InFlow</code></p>
<p>An inflows object. This is the total number of flows that go to one locations, regardless of their origin.</p>
</li>
</ul>
<h4 id="invalidate_db_cache_8">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_103">Parameters<a class="headerlink" href="#parameters_103" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_8">join<a class="headerlink" href="#join_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_104">Parameters<a class="headerlink" href="#parameters_104" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_137">Returns<a class="headerlink" href="#returns_137" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset_8">numeric_subset<a class="headerlink" href="#numeric_subset_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_105">Parameters<a class="headerlink" href="#parameters_105" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_138">Returns<a class="headerlink" href="#returns_138" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="outflow_7">outflow<a class="headerlink" href="#outflow_7" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">outflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L52">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_139">Returns<a class="headerlink" href="#returns_139" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>OutFlow</code></p>
<p>An outflows object. This is the total number of flows that originate from one locations, regardless of their destination.</p>
</li>
</ul>
<h4 id="random_sample_8">random_sample<a class="headerlink" href="#random_sample_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_106">Parameters<a class="headerlink" href="#parameters_106" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_140">Returns<a class="headerlink" href="#returns_140" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_8">store<a class="headerlink" href="#store_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_107">Parameters<a class="headerlink" href="#parameters_107" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_141">Returns<a class="headerlink" href="#returns_141" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_8">subset<a class="headerlink" href="#subset_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_108">Parameters<a class="headerlink" href="#parameters_108" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_142">Returns<a class="headerlink" href="#returns_142" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_sql_8">to_sql<a class="headerlink" href="#to_sql_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_109">Parameters<a class="headerlink" href="#parameters_109" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_143">Returns<a class="headerlink" href="#returns_143" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_8">turn_off_caching<a class="headerlink" href="#turn_off_caching_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L152">flowmachine/core/query.py</a></p>
<p>Turn the caching off, the object forgets previously calculated dataframes, and won't store further calculations</p>
<h4 id="turn_on_caching_8">turn_on_caching<a class="headerlink" href="#turn_on_caching_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_8">union<a class="headerlink" href="#union_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_110">Parameters<a class="headerlink" href="#parameters_110" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_144">Returns<a class="headerlink" href="#returns_144" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_18">Examples<a class="headerlink" href="#examples_18" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_8">cache<a class="headerlink" href="#cache_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names_8">column_names<a class="headerlink" href="#column_names_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L79">flowmachine/features/location/flows.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies_8">dependencies<a class="headerlink" href="#dependencies_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_8">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_8">index_cols<a class="headerlink" href="#index_cols_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L74">flowmachine/features/location/flows.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_8">is_stored<a class="headerlink" href="#is_stored_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5_8">md5<a class="headerlink" href="#md5_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_8">table_name<a class="headerlink" href="#table_name_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-flows">Class <strong>Flows</strong><a class="headerlink" href="#class-flows" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">Flows</span><span class="p">(</span><span class="n">loc1</span><span class="p">,</span> <span class="n">loc2</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L186">flowmachine/features/location/flows.py</a></p>
<p>An object representing the difference in locations between two location type objects.</p>
<h3 id="attributes_9">Attributes<a class="headerlink" href="#attributes_9" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="parameters_111">Parameters<a class="headerlink" href="#parameters_111" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>loc1</code>: <code>or ModalLocation object</code>, <code>daily_location</code></p>
<p>Object representing the locations of people within the first time frame of interest</p>
</li>
<li>
<p><code>loc2</code>: <code>or ModalLocation object</code>, <code>daily_location</code></p>
<p>As above for the second period</p>
</li>
</ul>
<h3 id="methods_9">Methods<a class="headerlink" href="#methods_9" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_9">dependency_graph<a class="headerlink" href="#dependency_graph_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_112">Parameters<a class="headerlink" href="#parameters_112" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_145">Returns<a class="headerlink" href="#returns_145" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_19">Examples<a class="headerlink" href="#examples_19" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_9">explain<a class="headerlink" href="#explain_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_113">Parameters<a class="headerlink" href="#parameters_113" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_146">Returns<a class="headerlink" href="#returns_146" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_9">get_dataframe<a class="headerlink" href="#get_dataframe_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_147">Returns<a class="headerlink" href="#returns_147" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_9">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_148">Returns<a class="headerlink" href="#returns_148" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_9">get_query<a class="headerlink" href="#get_query_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_149">Returns<a class="headerlink" href="#returns_149" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_9">get_table<a class="headerlink" href="#get_table_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_150">Returns<a class="headerlink" href="#returns_150" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_9">head<a class="headerlink" href="#head_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_114">Parameters<a class="headerlink" href="#parameters_114" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_151">Returns<a class="headerlink" href="#returns_151" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="inflow_8">inflow<a class="headerlink" href="#inflow_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">inflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L63">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_152">Returns<a class="headerlink" href="#returns_152" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>InFlow</code></p>
<p>An inflows object. This is the total number of flows that go to one locations, regardless of their origin.</p>
</li>
</ul>
<h4 id="invalidate_db_cache_9">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_115">Parameters<a class="headerlink" href="#parameters_115" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_9">join<a class="headerlink" href="#join_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_116">Parameters<a class="headerlink" href="#parameters_116" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_153">Returns<a class="headerlink" href="#returns_153" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset_9">numeric_subset<a class="headerlink" href="#numeric_subset_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_117">Parameters<a class="headerlink" href="#parameters_117" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_154">Returns<a class="headerlink" href="#returns_154" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="outflow_8">outflow<a class="headerlink" href="#outflow_8" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">outflow</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L52">flowmachine/features/location/flows.py</a></p>
<h5 id="returns_155">Returns<a class="headerlink" href="#returns_155" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>OutFlow</code></p>
<p>An outflows object. This is the total number of flows that originate from one locations, regardless of their destination.</p>
</li>
</ul>
<h4 id="random_sample_9">random_sample<a class="headerlink" href="#random_sample_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_118">Parameters<a class="headerlink" href="#parameters_118" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_156">Returns<a class="headerlink" href="#returns_156" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_9">store<a class="headerlink" href="#store_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_119">Parameters<a class="headerlink" href="#parameters_119" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_157">Returns<a class="headerlink" href="#returns_157" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_9">subset<a class="headerlink" href="#subset_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_120">Parameters<a class="headerlink" href="#parameters_120" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_158">Returns<a class="headerlink" href="#returns_158" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_geojson_1">to_geojson<a class="headerlink" href="#to_geojson_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L256">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_121">Parameters<a class="headerlink" href="#parameters_121" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_159">Returns<a class="headerlink" href="#returns_159" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>dict</code></p>
<p>This query as a GeoJson FeatureCollection in dict form. </p>
</li>
</ul>
<h4 id="to_geojson_file_1">to_geojson_file<a class="headerlink" href="#to_geojson_file_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L202">flowmachine/core/mixins/geodata_mixin.py</a></p>
<p>Export this query to a GeoJson FeatureCollection file.</p>
<h5 id="parameters_122">Parameters<a class="headerlink" href="#parameters_122" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>filename</code>: <code>str</code></p>
<p>File to save resulting geojson as.</p>
</li>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h4 id="to_geojson_string_1">to_geojson_string<a class="headerlink" href="#to_geojson_string_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L216">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_123">Parameters<a class="headerlink" href="#parameters_123" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_160">Returns<a class="headerlink" href="#returns_160" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>A string containing the this query as a GeoJson FeatureCollection. </p>
</li>
</ul>
<h4 id="to_geopandas_1">to_geopandas<a class="headerlink" href="#to_geopandas_1" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geopandas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L304">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_124">Parameters<a class="headerlink" href="#parameters_124" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_161">Returns<a class="headerlink" href="#returns_161" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>GeoDataFrame</code></p>
<p>This query as a GeoPandas GeoDataFrame.</p>
</li>
</ul>
<h4 id="to_networkx">to_networkx<a class="headerlink" href="#to_networkx" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_networkx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">directed_graph</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/graph_mixin.py#L22">flowmachine/core/mixins/graph_mixin.py</a></p>
<p>By default, the leftmost column will be used as the source, the next leftmost as the target, and any other columns will become edge attributes. Both or neither of source and target should be provided. 
The default is to return a directed graph.</p>
<h5 id="parameters_125">Parameters<a class="headerlink" href="#parameters_125" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>source</code>: <code>optional</code>, <code>str</code></p>
<p>Optionally specify the column name for the source nodes.</p>
</li>
<li>
<p><code>target</code>: <code>optional</code>, <code>str</code></p>
<p>Optionally specify the column name for the target nodes.</p>
</li>
<li>
<p><code>directed_graph</code>: <code>bool</code>, default <code>True</code></p>
<p>Set to false to return an undirected graph.</p>
</li>
</ul>
<h5 id="returns_162">Returns<a class="headerlink" href="#returns_162" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>networkx.Graph</code></p>
<p>This query as a networkx graph object.</p>
</li>
</ul>
<h4 id="to_sql_9">to_sql<a class="headerlink" href="#to_sql_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_126">Parameters<a class="headerlink" href="#parameters_126" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_163">Returns<a class="headerlink" href="#returns_163" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_9">turn_off_caching<a class="headerlink" href="#turn_off_caching_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L297">flowmachine/core/mixins/geodata_mixin.py</a></p>
<p>Turn off caching. Overridden to also remove cached geojson.</p>
<h4 id="turn_on_caching_9">turn_on_caching<a class="headerlink" href="#turn_on_caching_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_9">union<a class="headerlink" href="#union_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_127">Parameters<a class="headerlink" href="#parameters_127" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_164">Returns<a class="headerlink" href="#returns_164" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_20">Examples<a class="headerlink" href="#examples_20" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_9">cache<a class="headerlink" href="#cache_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names_9">column_names<a class="headerlink" href="#column_names_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L79">flowmachine/features/location/flows.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies_9">dependencies<a class="headerlink" href="#dependencies_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_9">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_9">index_cols<a class="headerlink" href="#index_cols_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L74">flowmachine/features/location/flows.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_9">is_stored<a class="headerlink" href="#is_stored_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5_9">md5<a class="headerlink" href="#md5_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_9">table_name<a class="headerlink" href="#table_name_9" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-inflow">Class <strong>InFlow</strong><a class="headerlink" href="#class-inflow" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">InFlow</span><span class="p">(</span><span class="n">flow</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L676">flowmachine/features/location/flows.py</a></p>
<p>An inflow is the total number of subscribers coming into a region, regardless of where it is that they have come from. Normally not instantiated directly, but through a method of the Flows class.</p>
<h3 id="attributes_10">Attributes<a class="headerlink" href="#attributes_10" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="methods_10">Methods<a class="headerlink" href="#methods_10" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_10">dependency_graph<a class="headerlink" href="#dependency_graph_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_128">Parameters<a class="headerlink" href="#parameters_128" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_165">Returns<a class="headerlink" href="#returns_165" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_21">Examples<a class="headerlink" href="#examples_21" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_10">explain<a class="headerlink" href="#explain_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_129">Parameters<a class="headerlink" href="#parameters_129" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_166">Returns<a class="headerlink" href="#returns_166" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_10">get_dataframe<a class="headerlink" href="#get_dataframe_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_167">Returns<a class="headerlink" href="#returns_167" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_10">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_168">Returns<a class="headerlink" href="#returns_168" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_10">get_query<a class="headerlink" href="#get_query_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_169">Returns<a class="headerlink" href="#returns_169" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_10">get_table<a class="headerlink" href="#get_table_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_170">Returns<a class="headerlink" href="#returns_170" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_10">head<a class="headerlink" href="#head_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_130">Parameters<a class="headerlink" href="#parameters_130" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_171">Returns<a class="headerlink" href="#returns_171" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="invalidate_db_cache_10">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_131">Parameters<a class="headerlink" href="#parameters_131" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_10">join<a class="headerlink" href="#join_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_132">Parameters<a class="headerlink" href="#parameters_132" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_172">Returns<a class="headerlink" href="#returns_172" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset_10">numeric_subset<a class="headerlink" href="#numeric_subset_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_133">Parameters<a class="headerlink" href="#parameters_133" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_173">Returns<a class="headerlink" href="#returns_173" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="random_sample_10">random_sample<a class="headerlink" href="#random_sample_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_134">Parameters<a class="headerlink" href="#parameters_134" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_174">Returns<a class="headerlink" href="#returns_174" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_10">store<a class="headerlink" href="#store_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_135">Parameters<a class="headerlink" href="#parameters_135" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_175">Returns<a class="headerlink" href="#returns_175" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_10">subset<a class="headerlink" href="#subset_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_136">Parameters<a class="headerlink" href="#parameters_136" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_176">Returns<a class="headerlink" href="#returns_176" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_geojson_2">to_geojson<a class="headerlink" href="#to_geojson_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L256">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_137">Parameters<a class="headerlink" href="#parameters_137" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_177">Returns<a class="headerlink" href="#returns_177" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>dict</code></p>
<p>This query as a GeoJson FeatureCollection in dict form. </p>
</li>
</ul>
<h4 id="to_geojson_file_2">to_geojson_file<a class="headerlink" href="#to_geojson_file_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L202">flowmachine/core/mixins/geodata_mixin.py</a></p>
<p>Export this query to a GeoJson FeatureCollection file.</p>
<h5 id="parameters_138">Parameters<a class="headerlink" href="#parameters_138" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>filename</code>: <code>str</code></p>
<p>File to save resulting geojson as.</p>
</li>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h4 id="to_geojson_string_2">to_geojson_string<a class="headerlink" href="#to_geojson_string_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L216">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_139">Parameters<a class="headerlink" href="#parameters_139" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_178">Returns<a class="headerlink" href="#returns_178" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>A string containing the this query as a GeoJson FeatureCollection. </p>
</li>
</ul>
<h4 id="to_geopandas_2">to_geopandas<a class="headerlink" href="#to_geopandas_2" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geopandas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L304">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_140">Parameters<a class="headerlink" href="#parameters_140" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_179">Returns<a class="headerlink" href="#returns_179" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>GeoDataFrame</code></p>
<p>This query as a GeoPandas GeoDataFrame.</p>
</li>
</ul>
<h4 id="to_sql_10">to_sql<a class="headerlink" href="#to_sql_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_141">Parameters<a class="headerlink" href="#parameters_141" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_180">Returns<a class="headerlink" href="#returns_180" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_10">turn_off_caching<a class="headerlink" href="#turn_off_caching_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L297">flowmachine/core/mixins/geodata_mixin.py</a></p>
<p>Turn off caching. Overridden to also remove cached geojson.</p>
<h4 id="turn_on_caching_10">turn_on_caching<a class="headerlink" href="#turn_on_caching_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_10">union<a class="headerlink" href="#union_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_142">Parameters<a class="headerlink" href="#parameters_142" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_181">Returns<a class="headerlink" href="#returns_181" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_22">Examples<a class="headerlink" href="#examples_22" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_10">cache<a class="headerlink" href="#cache_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names_10">column_names<a class="headerlink" href="#column_names_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L692">flowmachine/features/location/flows.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies_10">dependencies<a class="headerlink" href="#dependencies_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_10">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_10">index_cols<a class="headerlink" href="#index_cols_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L687">flowmachine/features/location/flows.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_10">is_stored<a class="headerlink" href="#is_stored_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5_10">md5<a class="headerlink" href="#md5_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_10">table_name<a class="headerlink" href="#table_name_10" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
<h2 id="class-outflow">Class <strong>OutFlow</strong><a class="headerlink" href="#class-outflow" title="Permanent link">&para;</a></h2>
<p><div class="codehilite"><pre><span></span><span class="n">OutFlow</span><span class="p">(</span><span class="n">flow</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L654">flowmachine/features/location/flows.py</a></p>
<p>Class for an outflow. These are the total number of people coming from one locations, regardless of where they go to. Note that this is normally initialised through the outflows method of a flows class.</p>
<h3 id="attributes_11">Attributes<a class="headerlink" href="#attributes_11" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><a href="#cache"><code>cache</code></a></p>
</li>
<li>
<p><a href="#column_names"><code>column_names</code></a></p>
</li>
<li>
<p><a href="#dependencies"><code>dependencies</code></a></p>
</li>
<li>
<p><a href="#fully_qualified_table_name"><code>fully_qualified_table_name</code></a></p>
</li>
<li>
<p><a href="#index_cols"><code>index_cols</code></a></p>
</li>
<li>
<p><a href="#is_stored"><code>is_stored</code></a></p>
</li>
<li>
<p><a href="#md5"><code>md5</code></a></p>
</li>
<li>
<p><a href="#table_name"><code>table_name</code></a></p>
</li>
</ul>
<h3 id="methods_11">Methods<a class="headerlink" href="#methods_11" title="Permanent link">&para;</a></h3>
<h4 id="dependency_graph_11">dependency_graph<a class="headerlink" href="#dependency_graph_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L1026">flowmachine/core/query.py</a></p>
<p>Produce a graph of all the queries that go into producing this one, with their estimated run costs, and whether they are stored as node attributes.
The resulting networkx object can then be visualised, or analysed.</p>
<h5 id="parameters_143">Parameters<a class="headerlink" href="#parameters_143" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>query</code>: <code>Query</code></p>
<p>Query object to produce a dependency graph fot</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to True to get actual runtimes for queries, note that this will actually run the query!</p>
</li>
</ul>
<h5 id="returns_182">Returns<a class="headerlink" href="#returns_182" title="Permanent link">&para;</a></h5>
<ul>
<li><code>networkx.DiGraph</code></li>
</ul>
<h5 id="examples_23">Examples<a class="headerlink" href="#examples_23" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">flowmachine</span>
<span class="n">flowmachine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">flowmachine.features</span> <span class="kn">import</span> <span class="n">daily_location</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">()</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies.dot&quot;</span><span class="p">)</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s2">&quot;2016-01-01&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">dependency_graph</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">networkx.drawing.nx_agraph</span> <span class="kn">import</span> <span class="n">write_dot</span>
<span class="n">write_dot</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="s2">&quot;daily_location_dependencies_runtimes.dot&quot;</span><span class="p">)</span>
</pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The queries listed as dependencies are not <em>guaranteed</em> to be used in the actual running of a query, only to be referenced by it.</p>
</div>
<h4 id="explain_11">explain<a class="headerlink" href="#explain_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">explain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">analyse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L536">flowmachine/core/query.py</a></p>
<p>Returns the postgres SQL explanation string.</p>
<h5 id="parameters_144">Parameters<a class="headerlink" href="#parameters_144" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>format</code>: <code>{'text', 'json', 'yaml', 'xml'}</code>, default <code>'text'</code></p>
<p>Output format for the explanation.</p>
</li>
<li>
<p><code>analyse</code>: <code>bool</code></p>
<p>Set to true to run the query and return actual timings.</p>
</li>
</ul>
<h5 id="returns_183">Returns<a class="headerlink" href="#returns_183" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>list</code> of <code>dict</code>, <code>str</code></p>
<p>If <code>format='json'</code> is set, then this returns a list of dicts</p>
</li>
</ul>
<h4 id="get_dataframe_11">get_dataframe<a class="headerlink" href="#get_dataframe_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L243">flowmachine/core/query.py</a></p>
<p>Executes the query and return the result as a pandas dataframe. This should be executed with care, as the results may consume large amounts of memory.</p>
<h5 id="returns_184">Returns<a class="headerlink" href="#returns_184" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>DataFrame containing results of the query.</p>
</li>
</ul>
<h4 id="get_dataframe_async_11">get_dataframe_async<a class="headerlink" href="#get_dataframe_async_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_dataframe_async</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L208">flowmachine/core/query.py</a></p>
<p>Execute the query in a worker thread and return a future object which will contain the result as a pandas dataframe when complete.</p>
<h5 id="returns_185">Returns<a class="headerlink" href="#returns_185" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be used to get the resulting dataframe</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This should be executed with care, as the results may consume large amounts of memory</p>
</div>
<h4 id="get_query_11">get_query<a class="headerlink" href="#get_query_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L180">flowmachine/core/query.py</a></p>
<p>Returns a  string representing an SQL query. The string will point to the database cache of this query if it exists.</p>
<h5 id="returns_186">Returns<a class="headerlink" href="#returns_186" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>SQL query string.</p>
</li>
</ul>
<h4 id="get_table_11">get_table<a class="headerlink" href="#get_table_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">get_table</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L297">flowmachine/core/query.py</a></p>
<p>If this Query is stored, return a Table object referencing the stored version. If it is not stored, raise an exception.</p>
<h5 id="returns_187">Returns<a class="headerlink" href="#returns_187" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>flowmachine.core.Table</code></p>
<p>The stored version of this Query as a Table object</p>
</li>
</ul>
<h4 id="head_11">head<a class="headerlink" href="#head_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L274">flowmachine/core/query.py</a></p>
<p>Return the first n results of the query</p>
<h5 id="parameters_145">Parameters<a class="headerlink" href="#parameters_145" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>n</code>: <code>int</code></p>
<p>Number of results to return</p>
</li>
</ul>
<h5 id="returns_188">Returns<a class="headerlink" href="#returns_188" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>pandas.DataFrame</code></p>
<p>A DataFrame containing n results</p>
</li>
</ul>
<h4 id="invalidate_db_cache_11">invalidate_db_cache<a class="headerlink" href="#invalidate_db_cache_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">invalidate_db_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">schema</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L756">flowmachine/core/query.py</a></p>
<p>Helper function for store, drops this table, and (by default) any that depend on it, as well as removing them from the cache metadata table.</p>
<h5 id="parameters_146">Parameters<a class="headerlink" href="#parameters_146" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>Name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>str</code></p>
<p>Schema of the table</p>
</li>
<li>
<p><code>cascade</code>: <code>bool</code></p>
<p>Set to false to remove only this table from cache</p>
</li>
<li>
<p><code>drop</code>: <code>bool</code></p>
<p>Set to false to remove the cache record without dropping the table</p>
</li>
</ul>
<h4 id="join_11">join<a class="headerlink" href="#join_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">join</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">other</span><span class="p">,</span>
    <span class="n">on_left</span><span class="p">,</span>
    <span class="n">on_right</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
    <span class="n">left_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">right_append</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L342">flowmachine/core/query.py</a></p>
<h5 id="parameters_147">Parameters<a class="headerlink" href="#parameters_147" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>Query to join to</p>
</li>
<li>
<p><code>on_left</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>on_right</code>: <code>str</code></p>
<p>Field of this query to join on</p>
</li>
<li>
<p><code>how</code>: <code>{'left', 'outer', 'inner', 'full'}</code></p>
<p>Method of joining to the other</p>
</li>
<li>
<p><code>left_append</code>: <code>str</code></p>
</li>
<li>
<p><code>right_append</code>: <code>str</code></p>
</li>
</ul>
<h5 id="returns_189">Returns<a class="headerlink" href="#returns_189" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Join</code></p>
<p>Query object representing the two queries joined together</p>
</li>
</ul>
<h4 id="numeric_subset_11">numeric_subset<a class="headerlink" href="#numeric_subset_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">numeric_subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L397">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified range of numerical values.</p>
<h5 id="parameters_148">Parameters<a class="headerlink" href="#parameters_148" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>low</code>: <code>float</code></p>
<p>Lower bound of interval to subset on</p>
</li>
<li>
<p><code>high</code>: <code>float</code></p>
<p>Upper bound of interval to subset on</p>
</li>
</ul>
<h5 id="returns_190">Returns<a class="headerlink" href="#returns_190" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Numeric subset object</code></li>
</ul>
<h4 id="random_sample_11">random_sample<a class="headerlink" href="#random_sample_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">random_sample</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">size</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">fraction</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;system_rows&quot;</span><span class="p">,</span>
    <span class="n">estimate_count</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L950">flowmachine/core/query.py</a></p>
<p>Draws a random sample from this query.</p>
<h5 id="parameters_149">Parameters<a class="headerlink" href="#parameters_149" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>size</code>: <code>int</code></p>
<p>Number of rows to draw</p>
</li>
<li>
<p><code>fraction</code>: <code>float</code></p>
<p>Fraction of total rows to draw</p>
</li>
<li>
<p><code>method</code>: <code>{'system', 'system_rows', 'bernoulli', 'random_ids'}</code>, default <code>'system_rows'</code></p>
<p>Specifies the method used to select the random sample. 'system_rows': performs block-level sampling by randomly sampling     each physical storage page of the underlying relation. This     sampling method is guaranteed to provide a sample of the specified     size 'system': performs block-level sampling by randomly sampling each     physical storage page for the underlying relation. This     sampling method is not guaranteed to generate a sample of the     specified size, but an approximation. This method may not     produce a sample at all, so it might be worth running it again     if it returns an empty dataframe. 'bernoulli': samples directly on each row of the underlying     relation. This sampling method is slower and is not guaranteed to     generate a sample of the specified size, but an approximation 'random_ids': Assumes that the table contains a column named 'id'     with random numbers from 1 to the total number of rows in the     table. This method samples the ids from this table.</p>
</li>
<li>
<p><code>estimate_count</code>: <code>bool</code>, default <code>True</code></p>
<p>Whether to estimate the number of rows in the table using information contained in the <code>pg_class</code> or whether to perform an actual count in the number of rows.</p>
</li>
<li>
<p><code>seed</code>: <code>optional</code>, <code>float</code></p>
<p>Optionally provide a seed for repeatable random samples, which should be between -/+1. Not available in combination with the system_rows method.</p>
</li>
</ul>
<h5 id="returns_191">Returns<a class="headerlink" href="#returns_191" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Random</code></p>
<p>A special query object which contains a random sample from this one</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Random samples may only be stored if a seed is supplied.</p>
</div>
<h4 id="store_11">store<a class="headerlink" href="#store_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">store</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L613">flowmachine/core/query.py</a></p>
<p>Store the results of this computation with the correct table name using a background thread.</p>
<h5 id="parameters_150">Parameters<a class="headerlink" href="#parameters_150" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_192">Returns<a class="headerlink" href="#returns_192" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Future</code></p>
<p>Future object which can be queried to check the query is stored.</p>
</li>
</ul>
<h4 id="subset_11">subset<a class="headerlink" href="#subset_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">subset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">subset</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L376">flowmachine/core/query.py</a></p>
<p>Subsets one of the columns to a specified subset of values</p>
<h5 id="parameters_151">Parameters<a class="headerlink" href="#parameters_151" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>col</code>: <code>str</code></p>
<p>Name of the column to subset, e.g. subscriber, cell etc.</p>
</li>
<li>
<p><code>subset</code>: <code>list</code></p>
<p>List of values to subset to</p>
</li>
</ul>
<h5 id="returns_193">Returns<a class="headerlink" href="#returns_193" title="Permanent link">&para;</a></h5>
<ul>
<li><code>Subset object</code></li>
</ul>
<h4 id="to_geojson_3">to_geojson<a class="headerlink" href="#to_geojson_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L256">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_152">Parameters<a class="headerlink" href="#parameters_152" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_194">Returns<a class="headerlink" href="#returns_194" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>dict</code></p>
<p>This query as a GeoJson FeatureCollection in dict form. </p>
</li>
</ul>
<h4 id="to_geojson_file_3">to_geojson_file<a class="headerlink" href="#to_geojson_file_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L202">flowmachine/core/mixins/geodata_mixin.py</a></p>
<p>Export this query to a GeoJson FeatureCollection file.</p>
<h5 id="parameters_153">Parameters<a class="headerlink" href="#parameters_153" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>filename</code>: <code>str</code></p>
<p>File to save resulting geojson as.</p>
</li>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h4 id="to_geojson_string_3">to_geojson_string<a class="headerlink" href="#to_geojson_string_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geojson_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L216">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_154">Parameters<a class="headerlink" href="#parameters_154" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_195">Returns<a class="headerlink" href="#returns_195" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>str</code></p>
<p>A string containing the this query as a GeoJson FeatureCollection. </p>
</li>
</ul>
<h4 id="to_geopandas_3">to_geopandas<a class="headerlink" href="#to_geopandas_3" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_geopandas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L304">flowmachine/core/mixins/geodata_mixin.py</a></p>
<h5 id="parameters_155">Parameters<a class="headerlink" href="#parameters_155" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>crs</code>: <code>str</code>, <code>int</code></p>
<p>Optionally give an integer srid, or valid proj4 string to transform output to</p>
</li>
</ul>
<h5 id="returns_196">Returns<a class="headerlink" href="#returns_196" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>GeoDataFrame</code></p>
<p>This query as a GeoPandas GeoDataFrame.</p>
</li>
</ul>
<h4 id="to_sql_11">to_sql<a class="headerlink" href="#to_sql_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">to_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">concurrent</span><span class="o">.</span><span class="n">futures</span><span class="o">.</span><span class="n">_base</span><span class="o">.</span><span class="n">Future</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L464">flowmachine/core/query.py</a></p>
<p>Store the result of the calculation back into the database.</p>
<h5 id="parameters_156">Parameters<a class="headerlink" href="#parameters_156" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>name</code>: <code>str</code></p>
<p>name of the table</p>
</li>
<li>
<p><code>schema</code>: <code>typing.Union[str, NoneType]</code>, default <code>None</code></p>
<p>Name of an existing schema. If none will use the postgres default, see postgres docs for more info.</p>
</li>
<li>
<p><code>force</code>: <code>bool</code>, default <code>False</code></p>
<p>Will overwrite an existing table if the name already exists</p>
</li>
</ul>
<h5 id="returns_197">Returns<a class="headerlink" href="#returns_197" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>concurrent.futures._base.Future</code></p>
<p>Future object, containing this query and any result information.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method will return a Future immediately.</p>
</div>
<h4 id="turn_off_caching_11">turn_off_caching<a class="headerlink" href="#turn_off_caching_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_off_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/mixins/geodata_mixin.py#L297">flowmachine/core/mixins/geodata_mixin.py</a></p>
<p>Turn off caching. Overridden to also remove cached geojson.</p>
<h4 id="turn_on_caching_11">turn_on_caching<a class="headerlink" href="#turn_on_caching_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">turn_on_caching</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L146">flowmachine/core/query.py</a></p>
<p>Turn on the caching, so that a computed dataframe is retained.</p>
<h4 id="union_11">union<a class="headerlink" href="#union_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L309">flowmachine/core/query.py</a></p>
<p>Returns a Query representing a the union of the two queries. This is simply the two tables concatenated. By passing the  argument all as true the duplicates are also removed.</p>
<h5 id="parameters_157">Parameters<a class="headerlink" href="#parameters_157" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>other</code>: <code>Query</code></p>
<p>An instance of a query object.</p>
</li>
<li>
<p><code>all</code>: <code>Bool</code></p>
<p>If true returns sql UNION ALL else returns UNION</p>
</li>
</ul>
<h5 id="returns_198">Returns<a class="headerlink" href="#returns_198" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><code>Union</code></p>
<p>Query representing the concatenation of the two queries</p>
</li>
</ul>
<h5 id="examples_24">Examples<a class="headerlink" href="#examples_24" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><span class="n">dl1</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-01&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl2</span> <span class="o">=</span> <span class="n">daily_location</span><span class="p">(</span><span class="s1">&#39;2016-01-02&#39;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;cell&#39;</span><span class="p">)</span>
<span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION ALL cell_msisdn_20160102&#39;</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">dl1</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">dl2</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">get_query</span><span class="p">()</span>
<span class="s1">&#39;cell_msisdn_20160101 UNION cell_msisdn_20160102&#39;</span>
</pre></div>

<h4 id="cache_11">cache<a class="headerlink" href="#cache_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">cache</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L168">flowmachine/core/query.py</a></p>
<h4 id="column_names_11">column_names<a class="headerlink" href="#column_names_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">column_names</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L670">flowmachine/features/location/flows.py</a></p>
<p>Returns the column names.</p>
<h4 id="dependencies_11">dependencies<a class="headerlink" href="#dependencies_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">dependencies</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L697">flowmachine/core/query.py</a></p>
<h4 id="fully_qualified_table_name_11">fully_qualified_table_name<a class="headerlink" href="#fully_qualified_table_name_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">fully_qualified_table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L572">flowmachine/core/query.py</a></p>
<p>Returns a unique fully qualified name for the query to be stored as under the cache schema, based on a hash of the parameters, class, and subqueries.</p>
<h4 id="index_cols_11">index_cols<a class="headerlink" href="#index_cols_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">index_cols</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/features/location/flows.py#L665">flowmachine/features/location/flows.py</a></p>
<p>A list of columns to use as indexes when storing this query.</p>
<h4 id="is_stored_11">is_stored<a class="headerlink" href="#is_stored_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">is_stored</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L598">flowmachine/core/query.py</a></p>
<h4 id="md5_11">md5<a class="headerlink" href="#md5_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">md5</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L72">flowmachine/core/query.py</a></p>
<p>Generate a uniquely identifying hash of this query, based on the parameters of it and the subqueries it is composed of.</p>
<h4 id="table_name_11">table_name<a class="headerlink" href="#table_name_11" title="Permanent link">&para;</a></h4>
<p><div class="codehilite"><pre><span></span><span class="n">table_name</span>
</pre></div>
Source: <a href="https://github.com/Flowminder/FlowKit/tree/master/flowmachine/flowmachine/core/query.py#L585">flowmachine/core/query.py</a></p>
<p>Returns a uniquename for the query to be stored as, based on a hash of the parameters, class, and subqueries.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../" title="location" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                location
              </span>
            </div>
          </a>
        
        
          <a href="../location_introversion/" title="location_introversion" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                location_introversion
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/Flowminder" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/Flowminder" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../../../assets/javascripts/application.b41f3d20.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../../../.."}})</script>
      
        <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
      
    
    
      
    
  </body>
</html>